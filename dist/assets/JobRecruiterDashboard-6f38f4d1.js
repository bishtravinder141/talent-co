import{r as i,ax as l,u as K,ay as v,az as Q,aA as N,aB as X,j as e,af as J,P as ee,_ as A,Z as se,am as ae,au as te,aw as ie}from"./index-f542c721.js";import{a as ne}from"./jobdashboard-7b2f3f3d.js";import{S as le}from"./ShareModal-cfad101f.js";const je=()=>{var P,y,C;const[n,R]=i.useState({}),[T,r]=i.useState(),[a,I]=i.useState([]),[c,b]=i.useState({startDate:l().format("YYYY-MM-DD"),endDate:l().add(1,"week").format("YYYY-MM-DD")}),[u,ce]=i.useState({timePeriod:"week",position:"Web developer"}),[f,D]=i.useState({page:1}),[F,de]=i.useState(0),[h,k]=i.useState([]),[x,L]=i.useState({show:!1,id:""}),[U,O]=i.useState(null),[_,q]=i.useState(0),[w,B]=i.useState({page:1}),[m,$]=i.useState(!1),M=()=>{$(!m)},g=K();i.useEffect(()=>{r(!0);const s=`?page=${f.page}&page_size=${v}`;ne(s).then(t=>{var o;r(!1);const d=(o=t==null?void 0:t.data)==null?void 0:o.data.filter((j,p)=>p<5);I(d)}).catch(t=>console.log(t))},[f]),i.useEffect(()=>{r(!0),Q().then(s=>{R(s.data.data),r(!1)}).catch(s=>console.log(s))},[]),i.useEffect(()=>{r(!0);let s="";a!=null&&a.length&&(s=`start_date=${c==null?void 0:c.startDate}&end_date=${c==null?void 0:c.endDate}&page=${w.page}&page_size=${N}`),X(s).then(t=>{var d,o,j;r(!1),q((o=(d=t==null?void 0:t.data)==null?void 0:d.data)==null?void 0:o.count),k((j=t==null?void 0:t.data)==null?void 0:j.data)}).catch(t=>{console.log(t),r(!1)})},[c,w]);const Y=(s="")=>{L({show:!x.show,id:s})},z=s=>{D({page:s.selected+1})},G=s=>{B({page:s.selected+1})},H=()=>{b(s=>({startDate:s.endDate,endDate:l(s.endDate).add(1,u.timePeriod).format("YYYY-MM-DD")}))},V=()=>{b(s=>({startDate:l(s.startDate).subtract(1,u.timePeriod).format("YYYY-MM-DD"),endDate:s.startDate}))},S=s=>{localStorage.setItem("redirectedTab",s),g("/job-recruiter/job-dashboard")},W=s=>{g("/job-recruiter/application"),localStorage.setItem("redirectedTab",s)},E=()=>{te()?g("/job-recruiter/create-job"):(O(ie),M())},Z=[{company_name:"beginner",summary:"Vivamus facilisis arcu quis sapien venenatis, a feugiat urna tristique. Sed gravida non mauris at",experience:"2 years",candidate:"10+",shortListed:"20+"}];return e.jsx(e.Fragment,{children:e.jsx(J,{header:"Dashboard",subTitle:"Vivamus facilisis arcu quis sapien venenatis, a feugiat urna tristique. Sed gravida non mauris at ",showSearchBar:!1,children:e.jsxs("div",{className:"dashboard-main-panel",children:[T&&e.jsx(ee,{}),e.jsxs("div",{className:"dashboard-panel-content",children:[e.jsxs("div",{className:"top_left font-weight-bold for-mobile",children:[e.jsx("h3",{children:"Dashboard"}),e.jsxs("p",{children:["Today, ",l().format("MMMM D, YYYY")]})]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-4 col-12",children:e.jsxs("div",{className:"card-stats",children:[e.jsxs("div",{className:"job-stats-card-header cursor-pointer",onClick:()=>{S("active")},children:[e.jsxs("div",{className:"card-icon",children:[e.jsx("span",{className:"icon-img",children:e.jsx("img",{src:"/assets/images/job-open.svg"})}),e.jsx("span",{children:"Open Jobs"})]}),e.jsxs("div",{className:"job-count",children:[n.opened_jobs_count?n.opened_jobs_count:0," "]})]}),e.jsxs("div",{className:"job-stats-card-footer",children:[e.jsxs("div",{className:"job-percent",children:["Jobs",e.jsxs("span",{children:[n.active_job_percentage?n.active_job_percentage.toFixed(2):0," ","%"]})]}),e.jsx("div",{className:"job-graph",children:e.jsx("img",{src:"/assets/images/job-graph1.svg"})})]})]})}),e.jsx("div",{className:"col-md-4 col-12",children:e.jsxs("div",{className:"card-stats",children:[e.jsxs("div",{className:"job-stats-card-header cursor-pointer",onClick:()=>{S("closed")},children:[e.jsxs("div",{className:"card-icon",children:[e.jsx("span",{className:"icon-img",children:e.jsx("img",{src:"/assets/images/job-closed.svg"})}),e.jsx("span",{children:"Closed Jobs"})]}),e.jsx("div",{className:"job-count",children:n.closed_job_count?n.closed_job_count:0})]}),e.jsxs("div",{className:"job-stats-card-footer",children:[e.jsxs("div",{className:"job-percent",children:["Jobs",e.jsxs("span",{children:[n.closed_job_count?n.closed_job_count.toFixed(2):0," ","%"]})]}),e.jsx("div",{className:"job-graph",children:e.jsx("img",{src:"/assets/images/job-graph2.svg"})})]})]})}),e.jsx("div",{className:"col-md-4 col-12",children:e.jsxs("div",{className:"card-stats",children:[e.jsxs("div",{className:"job-stats-card-header cursor-pointer",onClick:()=>{W("shortlisted")},children:[e.jsxs("div",{className:"card-icon",children:[e.jsx("span",{className:"icon-img",children:e.jsx("img",{src:"/assets/images/job-shortlisted.svg"})}),e.jsx("span",{children:"Shortlisted"})]}),e.jsxs("div",{className:"job-count",children:[" ",n.shortlisted_job_count?n.shortlisted_job_count:0]})]}),e.jsxs("div",{className:"job-stats-card-footer",children:[e.jsxs("div",{className:"job-percent",children:["Applicants",e.jsxs("span",{children:[n.shortlisted_job_percentage?n.shortlisted_job_percentage.toFixed(2):0," ","%"]})]}),e.jsx("div",{className:"job-graph",children:e.jsx("img",{src:"/assets/images/job-graph3.svg"})})]})]})})]}),e.jsx("div",{className:"post-first-job",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-xxl-9 col-md-8 col-12",children:(a==null?void 0:a.length)>0?e.jsxs("div",{className:"global-table table-responsive",children:[e.jsxs("table",{className:"table align-middle",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Job/Template Title"}),e.jsx("th",{children:"Viewers"}),e.jsx("th",{className:"text-center",children:"Applicants"}),e.jsx("th",{className:"text-center",children:"Date posted"}),e.jsx("th",{className:"text-center",children:"Actions"})]})}),a==null?void 0:a.map(s=>e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{children:e.jsxs("div",{className:"jobTitle",children:[e.jsx("span",{className:"strong",children:e.jsx("b",{children:s==null?void 0:s.title})}),e.jsx("span",{children:s==null?void 0:s.company_name})]})}),e.jsx("td",{children:e.jsx("div",{className:"count",children:e.jsxs("p",{children:[" ",s==null?void 0:s.viewers]})})}),e.jsx("td",{className:"text-center",children:e.jsx("div",{className:"count",children:e.jsxs("span",{children:[" ",s==null?void 0:s.applicants_count]})})}),e.jsx("td",{className:"text-center",children:e.jsxs("span",{children:[" ",s!=null&&s.created_at?l(s==null?void 0:s.created_at).format("MMMM DD, YYYY"):"N/A"]})}),e.jsx("td",{className:"text-center",children:e.jsxs("div",{className:"dropdown list_edit_panel",children:[e.jsx("button",{className:"btn  dropdown-toggle",type:"button",id:"dropdownMenu2","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:e.jsx("span",{children:e.jsx("i",{className:"fas fa-ellipsis-v"})})}),e.jsxs("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton1",children:[e.jsxs("a",{href:"view_panel_detail.html",className:"dropdown-item",type:"button",children:[e.jsx("img",{src:"/assets/images/referral.svg"})," ","Referral Job"]}),e.jsxs("button",{className:"dropdown-item",type:"button",onClick:()=>Y(s.job_id),children:[e.jsx("img",{src:"/assets/images/sharing.svg"})," ","Sharing Job"]})]})]})})]})},s.job_id))]}),(a==null?void 0:a.length)>v&&e.jsx(A,{jobPerPage:v,totalPage:F,onPageChange:z})]}):e.jsxs("div",{className:"post-job-col border py-extra",children:[e.jsx("h5",{children:"Post your first Job"}),e.jsx("p",{children:"Post your first job to find best talents"}),e.jsx("button",{"aria-label":"create-new-job",onClick:E,className:"btn-design",children:"Post Job"})]})}),e.jsx("div",{className:"col-xxl-3 col-md-4 col-12",children:(a==null?void 0:a.length)>0?e.jsxs("div",{className:"upcoming-inteviews border",children:[e.jsx("h5",{className:"w-100 text-start",children:"Upcoming Interview"}),e.jsx("div",{className:"interviewstable-topbar p-0",children:e.jsx("div",{className:"row align-items-center",children:e.jsxs("div",{className:"col-12 d-block",children:[e.jsx("div",{className:"inteviewTableDateFilter",children:e.jsx("ul",{children:e.jsx("li",{className:"w-100 mb-3",children:e.jsxs("p",{className:"m-1 d-flex align-items-center justify-content-between",children:[e.jsxs("div",{children:[l(c.startDate,"YYYY-MM-DD").format("MMM D, YYYY")," ","-"," ",l(c.endDate,"YYYY-MM-DD").format("MMM D, YYYY")]}),e.jsxs("div",{children:[e.jsx("button",{className:"border-0 rounded",style:{marginLeft:"7px",width:"20px"},onClick:V,disabled:c.startDate===l(new Date).format("YYYY-MM-DD"),children:e.jsx("i",{className:"fa-solid fa-caret-left"})}),e.jsx("button",{className:"border-0 rounded",style:{marginLeft:"7px",width:"20px"},onClick:H,children:e.jsx("i",{className:"fa-solid fa-caret-right"})})]})]})})})}),e.jsx("div",{className:"upcomingInterviewList",children:(P=h==null?void 0:h.results)!=null&&P.length?(y=h==null?void 0:h.results)==null?void 0:y.map((s,t)=>{var d;return e.jsxs("div",{className:"upcomingInterview d-flex gap-3 py-3 px-2",children:[e.jsx("div",{className:"list-icon",children:e.jsx("b",{children:(d=s==null?void 0:s.candidate_details)==null?void 0:d.candidate_name[0]})}),e.jsxs("div",{className:"d-flex justify-content-between w-100",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-name",children:s==null?void 0:s.name}),e.jsx("p",{className:"mb-0 text-pos",children:s==null?void 0:s.job_title})]}),e.jsxs("div",{className:"d-flex gap-2",children:[e.jsx("p",{className:"mb-0 timing-text",children:l(s==null?void 0:s.start_time," hh:mm:ss").format("h:mm A")}),e.jsx("p",{className:"mb-0 timing-text",children:l(s==null?void 0:s.end_time," hh:mm:ss").format("h:mm A")})]})]})]},t)}):e.jsx(se,{msg:"No Interviews Scheduled Yet"})}),_>N&&e.jsx(A,{jobPerPage:N,totalPage:_,onPageChange:G})]})})})]}):e.jsxs("div",{className:"upcoming-inteviews border py-extra",children:[e.jsx("h5",{children:"Upcoming Interview"}),e.jsx("p",{children:"Create your first job to find best talents and then you will see interviews"})]})})]})}),e.jsx("div",{className:"global-table table-responsive mt-4",children:e.jsxs("table",{className:"table align-middle",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Company"}),e.jsx("th",{style:{width:"35%",minWidth:"200px"},children:"Summary"}),e.jsx("th",{children:"Experience"}),e.jsx("th",{children:"Candidates"}),e.jsx("th",{children:"Short Listed"})]})}),e.jsx("tbody",{children:Z.map(({company_name:s,summary:t,shortListed:d,candidate:o,experience:j},p)=>e.jsxs("tr",{children:[e.jsx("td",{className:"strong text-capitalize",children:s}),e.jsx("td",{children:t}),e.jsx("td",{children:j}),e.jsx("td",{children:o}),e.jsx("td",{children:d})]},p))})]})}),!(((C=a==null?void 0:a.data)==null?void 0:C.length)>0)&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"training-courses py-50",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsxs("div",{className:"col-12",children:[e.jsx("h3",{children:"E-Learning"}),e.jsx("p",{children:"Enhancing Education Through Flexible and Engaging Online Learning"})]}),e.jsx("div",{className:"col-lg-4 col-md-6 col-12",children:e.jsxs("div",{className:"e-learning_col",children:[e.jsx("div",{className:"e-learning_img ratio ratio-1x1",children:e.jsx("img",{src:"/assets/images/e-learning1.jpg"})}),e.jsxs("div",{className:"e-learning_content",children:[e.jsx("h5",{children:"Nulla mauris nunc,"}),e.jsx("p",{children:"Fusce rhoncus lectus vel lectus sollicitudin lobortis."})]})]})}),e.jsx("div",{className:"col-lg-4 col-md-6 col-12",children:e.jsxs("div",{className:"e-learning_col",children:[e.jsx("div",{className:"e-learning_img ratio ratio-1x1",children:e.jsx("img",{src:"/assets/images/e-learning2.jpg"})}),e.jsxs("div",{className:"e-learning_content",children:[e.jsx("h5",{children:"Curabitur ac dolor ligula"}),e.jsx("p",{children:"Fusce rhoncus lectus vel lectus sollicitudin lobortis."})]})]})}),e.jsx("div",{className:"col-lg-4 col-md-6 col-12",children:e.jsxs("div",{className:"e-learning_col",children:[e.jsx("div",{className:"e-learning_img ratio ratio-1x1",children:e.jsx("img",{src:"/assets/images/e-learning3.jpg"})}),e.jsxs("div",{className:"e-learning_content",children:[e.jsx("h5",{children:"Nulla mauris nunc,"}),e.jsx("p",{children:"Fusce rhoncus lectus vel lectus sollicitudin lobortis."})]})]})})]})})})]}),x.show&&e.jsx(le,{showShareModal:x.show,toggleShareModal:Y,text:"Share Job",jobID:x.id}),m&&e.jsx(ae,{showModal:m,toggleModal:M,text:U})]})})})};export{je as default};
