import{aZ as ut,a_ as dt,aE as pt,r as M,aX as mt,j as e,P as ct,E as it,a$ as vt,b0 as ft,H as gt,u as xt,K as _t,b1 as yt,ax as st,b2 as bt,N as wt,b3 as jt,I as rt,a0 as Pt,b4 as St,b5 as Nt}from"./index-f542c721.js";import{i as Ct}from"./constant-145911d4.js";import"./index.esm-822dde25.js";var ht={exports:{}};/*!
 * Signature Pad v2.3.2
 * https://github.com/szimek/signature_pad
 *
 * Copyright 2017 Szymon Nowak
 * Released under the MIT license
 *
 * The main idea and some parts of the code (e.g. drawing variable width Bézier curve) are taken from:
 * http://corner.squareup.com/2012/07/smoother-signatures.html
 *
 * Implementation of interpolation using cubic Bézier curves is taken from:
 * http://benknowscode.wordpress.com/2012/09/14/path-interpolation-using-cubic-bezier-and-control-point-estimation-in-javascript
 *
 * Algorithm for approximated length of a Bézier curve is taken from:
 * http://www.lemoda.net/maths/bezier-length/index.html
 *
 */function R(t,o,n){this.x=t,this.y=o,this.time=n||new Date().getTime()}R.prototype.velocityFrom=function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):1};R.prototype.distanceTo=function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))};R.prototype.equals=function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time};function K(t,o,n,a){this.startPoint=t,this.control1=o,this.control2=n,this.endPoint=a}K.prototype.length=function(){for(var t=10,o=0,n=void 0,a=void 0,i=0;i<=t;i+=1){var s=i/t,l=this._point(s,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),p=this._point(s,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){var m=l-n,d=p-a;o+=Math.sqrt(m*m+d*d)}n=l,a=p}return o};K.prototype._point=function(t,o,n,a,i){return o*(1-t)*(1-t)*(1-t)+3*n*(1-t)*(1-t)*t+3*a*(1-t)*t*t+i*t*t*t};function Et(t,o,n){var a,i,s,l=null,p=0;n||(n={});var m=function(){p=n.leading===!1?0:Date.now(),l=null,s=t.apply(a,i),l||(a=i=null)};return function(){var d=Date.now();!p&&n.leading===!1&&(p=d);var c=o-(d-p);return a=this,i=arguments,c<=0||c>o?(l&&(clearTimeout(l),l=null),p=d,s=t.apply(a,i),l||(a=i=null)):!l&&n.trailing!==!1&&(l=setTimeout(m,c)),s}}function j(t,o){var n=this,a=o||{};this.velocityFilterWeight=a.velocityFilterWeight||.7,this.minWidth=a.minWidth||.5,this.maxWidth=a.maxWidth||2.5,this.throttle="throttle"in a?a.throttle:16,this.minDistance="minDistance"in a?a.minDistance:5,this.throttle?this._strokeMoveUpdate=Et(j.prototype._strokeUpdate,this.throttle):this._strokeMoveUpdate=j.prototype._strokeUpdate,this.dotSize=a.dotSize||function(){return(this.minWidth+this.maxWidth)/2},this.penColor=a.penColor||"black",this.backgroundColor=a.backgroundColor||"rgba(0,0,0,0)",this.onBegin=a.onBegin,this.onEnd=a.onEnd,this._canvas=t,this._ctx=t.getContext("2d"),this.clear(),this._handleMouseDown=function(i){i.which===1&&(n._mouseButtonDown=!0,n._strokeBegin(i))},this._handleMouseMove=function(i){n._mouseButtonDown&&n._strokeMoveUpdate(i)},this._handleMouseUp=function(i){i.which===1&&n._mouseButtonDown&&(n._mouseButtonDown=!1,n._strokeEnd(i))},this._handleTouchStart=function(i){if(i.targetTouches.length===1){var s=i.changedTouches[0];n._strokeBegin(s)}},this._handleTouchMove=function(i){i.preventDefault();var s=i.targetTouches[0];n._strokeMoveUpdate(s)},this._handleTouchEnd=function(i){var s=i.target===n._canvas;s&&(i.preventDefault(),n._strokeEnd(i))},this.on()}j.prototype.clear=function(){var t=this._ctx,o=this._canvas;t.fillStyle=this.backgroundColor,t.clearRect(0,0,o.width,o.height),t.fillRect(0,0,o.width,o.height),this._data=[],this._reset(),this._isEmpty=!0};j.prototype.fromDataURL=function(t){var o=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=new Image,i=n.ratio||window.devicePixelRatio||1,s=n.width||this._canvas.width/i,l=n.height||this._canvas.height/i;this._reset(),a.src=t,a.onload=function(){o._ctx.drawImage(a,0,0,s,l)},this._isEmpty=!1};j.prototype.toDataURL=function(t){var o;switch(t){case"image/svg+xml":return this._toSVG();default:for(var n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return(o=this._canvas).toDataURL.apply(o,[t].concat(a))}};j.prototype.on=function(){this._handleMouseEvents(),this._handleTouchEvents()};j.prototype.off=function(){this._canvas.removeEventListener("mousedown",this._handleMouseDown),this._canvas.removeEventListener("mousemove",this._handleMouseMove),document.removeEventListener("mouseup",this._handleMouseUp),this._canvas.removeEventListener("touchstart",this._handleTouchStart),this._canvas.removeEventListener("touchmove",this._handleTouchMove),this._canvas.removeEventListener("touchend",this._handleTouchEnd)};j.prototype.isEmpty=function(){return this._isEmpty};j.prototype._strokeBegin=function(t){this._data.push([]),this._reset(),this._strokeUpdate(t),typeof this.onBegin=="function"&&this.onBegin(t)};j.prototype._strokeUpdate=function(t){var o=t.clientX,n=t.clientY,a=this._createPoint(o,n),i=this._data[this._data.length-1],s=i&&i[i.length-1],l=s&&a.distanceTo(s)<this.minDistance;if(!(s&&l)){var p=this._addPoint(a),m=p.curve,d=p.widths;m&&d&&this._drawCurve(m,d.start,d.end),this._data[this._data.length-1].push({x:a.x,y:a.y,time:a.time,color:this.penColor})}};j.prototype._strokeEnd=function(t){var o=this.points.length>2,n=this.points[0];if(!o&&n&&this._drawDot(n),n){var a=this._data[this._data.length-1],i=a[a.length-1];n.equals(i)||a.push({x:n.x,y:n.y,time:n.time,color:this.penColor})}typeof this.onEnd=="function"&&this.onEnd(t)};j.prototype._handleMouseEvents=function(){this._mouseButtonDown=!1,this._canvas.addEventListener("mousedown",this._handleMouseDown),this._canvas.addEventListener("mousemove",this._handleMouseMove),document.addEventListener("mouseup",this._handleMouseUp)};j.prototype._handleTouchEvents=function(){this._canvas.style.msTouchAction="none",this._canvas.style.touchAction="none",this._canvas.addEventListener("touchstart",this._handleTouchStart),this._canvas.addEventListener("touchmove",this._handleTouchMove),this._canvas.addEventListener("touchend",this._handleTouchEnd)};j.prototype._reset=function(){this.points=[],this._lastVelocity=0,this._lastWidth=(this.minWidth+this.maxWidth)/2,this._ctx.fillStyle=this.penColor};j.prototype._createPoint=function(t,o,n){var a=this._canvas.getBoundingClientRect();return new R(t-a.left,o-a.top,n||new Date().getTime())};j.prototype._addPoint=function(t){var o=this.points,n=void 0;if(o.push(t),o.length>2){o.length===3&&o.unshift(o[0]),n=this._calculateCurveControlPoints(o[0],o[1],o[2]);var a=n.c2;n=this._calculateCurveControlPoints(o[1],o[2],o[3]);var i=n.c1,s=new K(o[1],a,i,o[2]),l=this._calculateCurveWidths(s);return o.shift(),{curve:s,widths:l}}return{}};j.prototype._calculateCurveControlPoints=function(t,o,n){var a=t.x-o.x,i=t.y-o.y,s=o.x-n.x,l=o.y-n.y,p={x:(t.x+o.x)/2,y:(t.y+o.y)/2},m={x:(o.x+n.x)/2,y:(o.y+n.y)/2},d=Math.sqrt(a*a+i*i),c=Math.sqrt(s*s+l*l),v=p.x-m.x,x=p.y-m.y,_=c/(d+c),N={x:m.x+v*_,y:m.y+x*_},b=o.x-N.x,C=o.y-N.y;return{c1:new R(p.x+b,p.y+C),c2:new R(m.x+b,m.y+C)}};j.prototype._calculateCurveWidths=function(t){var o=t.startPoint,n=t.endPoint,a={start:null,end:null},i=this.velocityFilterWeight*n.velocityFrom(o)+(1-this.velocityFilterWeight)*this._lastVelocity,s=this._strokeWidth(i);return a.start=this._lastWidth,a.end=s,this._lastVelocity=i,this._lastWidth=s,a};j.prototype._strokeWidth=function(t){return Math.max(this.maxWidth/(t+1),this.minWidth)};j.prototype._drawPoint=function(t,o,n){var a=this._ctx;a.moveTo(t,o),a.arc(t,o,n,0,2*Math.PI,!1),this._isEmpty=!1};j.prototype._drawCurve=function(t,o,n){var a=this._ctx,i=n-o,s=Math.floor(t.length());a.beginPath();for(var l=0;l<s;l+=1){var p=l/s,m=p*p,d=m*p,c=1-p,v=c*c,x=v*c,_=x*t.startPoint.x;_+=3*v*p*t.control1.x,_+=3*c*m*t.control2.x,_+=d*t.endPoint.x;var N=x*t.startPoint.y;N+=3*v*p*t.control1.y,N+=3*c*m*t.control2.y,N+=d*t.endPoint.y;var b=o+d*i;this._drawPoint(_,N,b)}a.closePath(),a.fill()};j.prototype._drawDot=function(t){var o=this._ctx,n=typeof this.dotSize=="function"?this.dotSize():this.dotSize;o.beginPath(),this._drawPoint(t.x,t.y,n),o.closePath(),o.fill()};j.prototype._fromData=function(t,o,n){for(var a=0;a<t.length;a+=1){var i=t[a];if(i.length>1)for(var s=0;s<i.length;s+=1){var l=i[s],p=new R(l.x,l.y,l.time),m=l.color;if(s===0)this.penColor=m,this._reset(),this._addPoint(p);else if(s!==i.length-1){var d=this._addPoint(p),c=d.curve,v=d.widths;c&&v&&o(c,v,m)}}else{this._reset();var x=i[0];n(x)}}};j.prototype._toSVG=function(){var t=this,o=this._data,n=this._canvas,a=Math.max(window.devicePixelRatio||1,1),i=0,s=0,l=n.width/a,p=n.height/a,m=document.createElementNS("http://www.w3.org/2000/svg","svg");m.setAttributeNS(null,"width",n.width),m.setAttributeNS(null,"height",n.height),this._fromData(o,function(f,k,U){var S=document.createElement("path");if(!isNaN(f.control1.x)&&!isNaN(f.control1.y)&&!isNaN(f.control2.x)&&!isNaN(f.control2.y)){var y="M "+f.startPoint.x.toFixed(3)+","+f.startPoint.y.toFixed(3)+" "+("C "+f.control1.x.toFixed(3)+","+f.control1.y.toFixed(3)+" ")+(f.control2.x.toFixed(3)+","+f.control2.y.toFixed(3)+" ")+(f.endPoint.x.toFixed(3)+","+f.endPoint.y.toFixed(3));S.setAttribute("d",y),S.setAttribute("stroke-width",(k.end*2.25).toFixed(3)),S.setAttribute("stroke",U),S.setAttribute("fill","none"),S.setAttribute("stroke-linecap","round"),m.appendChild(S)}},function(f){var k=document.createElement("circle"),U=typeof t.dotSize=="function"?t.dotSize():t.dotSize;k.setAttribute("r",U),k.setAttribute("cx",f.x),k.setAttribute("cy",f.y),k.setAttribute("fill",f.color),m.appendChild(k)});var d="data:image/svg+xml;base64,",c='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"'+(' viewBox="'+i+" "+s+" "+l+" "+p+'"')+(' width="'+l+'"')+(' height="'+p+'"')+">",v=m.innerHTML;if(v===void 0){var x=document.createElement("dummy"),_=m.childNodes;x.innerHTML="";for(var N=0;N<_.length;N+=1)x.appendChild(_[N].cloneNode(!0));v=x.innerHTML}var b="</svg>",C=c+v+b;return d+btoa(C)};j.prototype.fromData=function(t){var o=this;this.clear(),this._fromData(t,function(n,a){return o._drawCurve(n,a.start,a.end)},function(n){return o._drawDot(n)}),this._data=t};j.prototype.toData=function(){return this._data};const kt=Object.freeze(Object.defineProperty({__proto__:null,default:j},Symbol.toStringTag,{value:"Module"})),Tt=ut(kt);var Z={exports:{}},lt;function Mt(){return lt||(lt=1,function(t,o){(function(n,a){t.exports=a()})(dt,function(){return function(n){function a(s){if(i[s])return i[s].exports;var l=i[s]={exports:{},id:s,loaded:!1};return n[s].call(l.exports,l,l.exports,a),l.loaded=!0,l.exports}var i={};return a.m=n,a.c=i,a.p="",a(0)}([function(n,a){function i(d){var c=d.getContext("2d"),v=d.width,x=d.height,_=c.getImageData(0,0,v,x).data,N=p(!0,v,x,_),b=p(!1,v,x,_),C=m(!0,v,x,_),f=m(!1,v,x,_),k=f-C+1,U=b-N+1,S=c.getImageData(C,N,k,U);return d.width=k,d.height=U,c.clearRect(0,0,k,U),c.putImageData(S,0,0),d}function s(d,c,v,x){return{red:x[4*(v*c+d)],green:x[4*(v*c+d)+1],blue:x[4*(v*c+d)+2],alpha:x[4*(v*c+d)+3]}}function l(d,c,v,x){return s(d,c,v,x).alpha}function p(d,c,v,x){for(var _=d?1:-1,N=d?0:v-1,b=N;d?b<v:b>-1;b+=_)for(var C=0;C<c;C++)if(l(C,b,c,x))return b;return null}function m(d,c,v,x){for(var _=d?1:-1,N=d?0:c-1,b=N;d?b<c:b>-1;b+=_)for(var C=0;C<v;C++)if(l(b,C,c,x))return b;return null}Object.defineProperty(a,"__esModule",{value:!0}),a.default=i}])})}(Z)),Z.exports}(function(t,o){(function(n,a){t.exports=a(pt(),M,Tt,Mt())})(dt,function(n,a,i,s){return function(l){function p(d){if(m[d])return m[d].exports;var c=m[d]={exports:{},id:d,loaded:!1};return l[d].call(c.exports,c,c.exports,p),c.loaded=!0,c.exports}var m={};return p.m=l,p.c=m,p.p="",p(0)}([function(l,p,m){function d(w){return w&&w.__esModule?w:{default:w}}function c(w,g){var T={};for(var P in w)g.indexOf(P)>=0||Object.prototype.hasOwnProperty.call(w,P)&&(T[P]=w[P]);return T}function v(w,g){if(!(w instanceof g))throw new TypeError("Cannot call a class as a function")}function x(w,g){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||typeof g!="object"&&typeof g!="function"?w:g}function _(w,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);w.prototype=Object.create(g&&g.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(w,g):w.__proto__=g)}Object.defineProperty(p,"__esModule",{value:!0});var N=Object.assign||function(w){for(var g=1;g<arguments.length;g++){var T=arguments[g];for(var P in T)Object.prototype.hasOwnProperty.call(T,P)&&(w[P]=T[P])}return w},b=function(){function w(g,T){for(var P=0;P<T.length;P++){var h=T[P];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(g,h.key,h)}}return function(g,T,P){return T&&w(g.prototype,T),P&&w(g,P),g}}(),C=m(1),f=d(C),k=m(2),U=d(k),S=m(3),y=d(S),r=m(4),J=d(r),W=function(w){function g(){var T,P,h,z;v(this,g);for(var $=arguments.length,X=Array($),D=0;D<$;D++)X[D]=arguments[D];return P=h=x(this,(T=g.__proto__||Object.getPrototypeOf(g)).call.apply(T,[this].concat(X))),h._sigPad=null,h._excludeOurProps=function(){var E=h.props,A=(E.canvasProps,E.clearOnResize,c(E,["canvasProps","clearOnResize"]));return A},h.getCanvas=function(){return h._canvas},h.getTrimmedCanvas=function(){var E=document.createElement("canvas");return E.width=h._canvas.width,E.height=h._canvas.height,E.getContext("2d").drawImage(h._canvas,0,0),(0,J.default)(E)},h.getSignaturePad=function(){return h._sigPad},h._checkClearOnResize=function(){h.props.clearOnResize&&h._resizeCanvas()},h._resizeCanvas=function(){var E=h.props.canvasProps||{},A=E.width,u=E.height;if(!A||!u){var O=h._canvas,F=Math.max(window.devicePixelRatio||1,1);A||(O.width=O.offsetWidth*F),u||(O.height=O.offsetHeight*F),O.getContext("2d").scale(F,F),h.clear()}},h.on=function(){return window.addEventListener("resize",h._checkClearOnResize),h._sigPad.on()},h.off=function(){return window.removeEventListener("resize",h._checkClearOnResize),h._sigPad.off()},h.clear=function(){return h._sigPad.clear()},h.isEmpty=function(){return h._sigPad.isEmpty()},h.fromDataURL=function(E,A){return h._sigPad.fromDataURL(E,A)},h.toDataURL=function(E,A){return h._sigPad.toDataURL(E,A)},h.fromData=function(E){return h._sigPad.fromData(E)},h.toData=function(){return h._sigPad.toData()},z=P,x(h,z)}return _(g,w),b(g,[{key:"componentDidMount",value:function(){this._sigPad=new y.default(this._canvas,this._excludeOurProps()),this._resizeCanvas(),this.on()}},{key:"componentWillUnmount",value:function(){this.off()}},{key:"componentDidUpdate",value:function(){Object.assign(this._sigPad,this._excludeOurProps())}},{key:"render",value:function(){var T=this,P=this.props.canvasProps;return U.default.createElement("canvas",N({ref:function(h){T._canvas=h}},P))}}]),g}(k.Component);W.propTypes={velocityFilterWeight:f.default.number,minWidth:f.default.number,maxWidth:f.default.number,minDistance:f.default.number,dotSize:f.default.oneOfType([f.default.number,f.default.func]),penColor:f.default.string,throttle:f.default.number,onEnd:f.default.func,onBegin:f.default.func,canvasProps:f.default.object,clearOnResize:f.default.bool},W.defaultProps={clearOnResize:!0},p.default=W},function(l,p){l.exports=n},function(l,p){l.exports=a},function(l,p){l.exports=i},function(l,p){l.exports=s}])})})(ht);var Ot=ht.exports;const Ut=mt(Ot),At=({showSignaturePadModal:t,toggleSignaturePadModal:o,setSignature:n,validation:a,setIsSignatureAdded:i})=>{const s=M.useRef({}),l=()=>s.current.clear(),p=m=>{m.preventDefault();const d=s.current.getTrimmedCanvas().toDataURL("image/png");fetch(d).then(c=>c.blob()).then(c=>{const v=new File([c],"signature_file",{type:c.type});n({signatureFile:v}),i(!0)}),o()};return e.jsxs(e.Fragment,{children:[e.jsx("div",{tabindex:"-1",role:"dialog",className:`modal ${t?"show":""}`,style:{display:t?"block":"none"},children:e.jsx("div",{className:"modal-dialog",role:"document",children:e.jsx("form",{onSubmit:p,children:e.jsxs("div",{className:"modal-content",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("h4",{className:"modal-title",id:"skillPopupLabel",children:"Add Your Signature Here"}),e.jsx("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close",onClick:o})]}),e.jsx("div",{className:"modal-body",children:e.jsx(Ut,{ref:s,...a,canvasProps:{width:400,height:200,className:"sig-canvas"}})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn-design border-btn","data-dismiss":"modal",onClick:l,children:"Clear"}),e.jsx("button",{type:"submit",className:"btn-design",children:"Save changes"})]})]})})})}),e.jsx("div",{className:`modal-backdrop fade ${t?"show":""}`,style:{display:t?"block":"none"}})]})},Ft=({showAddSignatureModal:t,toggleAddSignatureModal:o,toggleSignaturePadModal:n,setSignature:a,setLoader:i,signature:s,isEdit:l,isSignatureAdded:p,setIsSignatureAdded:m,selectedFont:d,setSelectedFont:c,loader:v,getSignature:x,setSignatureUrl:_,handleCancel:N})=>{var U;const[b,C]=M.useState(!1),f=S=>{const y=S.target.files[0];y.name.match(/\.(png|jpeg|jpg)$/)?(C(!1),a({signatureUpload:y}),m(!0)):C(!0)},k=()=>{if(Object.values(s)[0]&&!b){let S;if(s!=null&&s.signatureText){const y=new FormData;y.append("signature_text",s==null?void 0:s.signatureText),y.append("types","text"),y.append("metadata",JSON.stringify(d)),y.append("signature_file",""),S=y}else if(s!=null&&s.signatureFile){const y=new FormData;y.append("signature_file",s==null?void 0:s.signatureFile),y.append("types","draw"),y.append("signature_text",null),S=y}else{const y=new FormData;y.append("signature_file",s==null?void 0:s.signatureUpload),y.append("types","upload"),y.append("signature_text",null),S=y}l?(i(y=>!0),ft(S).then(y=>{_(null),o(),i(r=>!1),x()}).catch(y=>{console.log(y),i(r=>!1)})):(i(y=>!0),vt(S).then(y=>{i(r=>!1),_(null),x(),o()}).catch(y=>{i(!1),console.log(y)}))}else m(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{class:"modal signature-modal overflow-hidden",tabindex:"-1",role:"dialog",className:`modal ${t?"show":""}`,style:{display:t?"block":"none"},children:[v&&e.jsx(ct,{}),e.jsx("div",{className:"modal-dialog modal-dialog-centered modal-lg",role:"document",children:e.jsx("div",{className:"modal-content",children:e.jsxs("div",{className:"inner-sign-modal",children:[e.jsx("div",{className:"modal-header",children:e.jsx("h5",{className:"modal-title",id:"exampleModalLongTitle",children:`${l?"Update":"Add"} Your Signature`})}),e.jsxs("form",{children:[e.jsxs("div",{className:"modal-body",children:[e.jsxs("div",{className:" name",children:[e.jsx("h6",{children:"Type Your Full name"}),e.jsx("p",{children:"Enter your full name to generate a "})]}),e.jsxs("div",{className:" signature",children:[e.jsx("h6",{children:"Signature"}),e.jsx("input",{type:"text",value:s.signatureText?s.signatureText:"",className:"form-control input-icon name-field px-20 py-22 lh-normal font-16 fw-normal",onChange:S=>{a({signatureText:S.target.value}),m(!0)}})]}),(s==null?void 0:s.signatureText)&&e.jsxs("div",{className:"preview",children:[e.jsxs("div",{className:"font d-flex justify-content-between mb-2",children:[e.jsx("h6",{children:"Preview"}),e.jsxs("div",{className:"selectSection",children:[e.jsx("span",{children:"Font style : "}),e.jsxs("select",{value:d,onChange:S=>{c(S.target.value)},children:[e.jsx("option",{value:"WindSong",children:"WindSong"}),e.jsx("option",{value:"shadows",children:"Shadows Into Light"}),e.jsx("option",{value:"GreatVibes",children:"GreatVibes"}),e.jsx("option",{value:"Zeyada",children:"Zeyada"})]})]})]}),e.jsx("div",{children:e.jsx("h4",{className:`${d} preview-signtext overflow-anywhere`,children:s.signatureText})})]}),e.jsxs("div",{className:"d-flex mt-4 gap-3",children:[e.jsxs("div",{className:"addSignature  rounded w-50",children:[e.jsxs("button",{className:"btn btn-light btn-sm text-dark addsign-btn w-100 d-flex",onClick:n,children:[e.jsx("img",{src:"/assets/images/signature-with-a-pen-1.svg"}),e.jsxs("span",{children:[e.jsx("span",{className:"signbtn-head",children:"Draw Your Signature"}),e.jsx("span",{className:"signbtn-text",children:"Draw Your Signature here using your mouse or trackpad"})]})]}),(s==null?void 0:s.signatureFile)&&e.jsx("h6",{children:"Drawn Signature"})]}),e.jsx("div",{className:"uploadSignature w-50",children:e.jsxs("label",{className:"btn btn-light btn-sm text-dark addsign-btn w-100 d-flex",htmlFor:"signUpload",children:[e.jsx("img",{src:"/assets/images/upload-1.svg"}),e.jsxs("span",{children:[e.jsx("span",{className:"signbtn-head",children:"Upload Your Signature"}),e.jsx("span",{className:"signbtn-text",children:"Upload an image of your handwritten signature here."})]}),e.jsx("input",{name:"signature",type:"file",id:"signUpload",className:"visually-hidden",onChange:f})]})})]}),b?e.jsx("span",{className:"SignatureError text-danger",children:e.jsx(it,{msg:Ct})}):e.jsxs("span",{className:"msg",children:[(U=s.signatureUpload)==null?void 0:U.name," "]})]}),p===!1&&e.jsx(it,{msg:"Signature Not added"}),e.jsxs("div",{class:"modal-body text-center",children:[e.jsx("button",{type:"button",className:"btn-design border-btn",onClick:N,children:"Cancel"}),e.jsx("button",{type:"button",class:"btn-design",onClick:k,children:l?"Update Signature ":"Add Sign"})]})]})]})})})]}),e.jsx("div",{className:`modal-backdrop fade ${t?"show":""}`,style:{display:t?"block":"none"}})]})},Dt=()=>{const{applicationId:t}=gt(),o=xt();localStorage.getItem("user_id");const[n,a]=M.useState(!1),[i,s]=M.useState(null),[l,p]=M.useState(!1),[m,d]=M.useState(!1),[c,v]=M.useState([]),[x,_]=M.useState(!1),[N,b]=M.useState(),[C,f]=M.useState(null),[k,U]=M.useState(!1),[S,y]=M.useState("WindSong"),[r,J]=M.useState([]),[W,w]=M.useState(!1),[g,T]=M.useState(""),[P,h]=M.useState({signatureText:null,signatureFile:null,signatureUpload:null});M.useEffect(()=>{_(!0),_t().then(u=>{var O;v((O=u==null?void 0:u.data)==null?void 0:O.data),_(!1)}).catch(u=>console.log(u)),E(),D()},[]);const z=()=>{!l&&!W&&a(!n)},$=()=>{z(),d(!m)},X=()=>{a(!n),f(null),h(null),E()},D=()=>{_(!0),yt(t).then(u=>{var O,F,I,B,Y,q,H,V,G;st(new Date).format("MMM Do YY")>st((I=(F=(O=u==null?void 0:u.data)==null?void 0:O.data)==null?void 0:F.offerLetterDetails)==null?void 0:I.response_date).format("MMM Do YY")&&w(!0),(Y=(B=u==null?void 0:u.data)==null?void 0:B.data)!=null&&Y.accepted_by_candidate&&p(!0),T((H=(q=u==null?void 0:u.data)==null?void 0:q.data)==null?void 0:H.job_title),J((G=(V=u==null?void 0:u.data)==null?void 0:V.data)==null?void 0:G.offer_letter_details)}).catch(u=>console.log(u)).finally(()=>_(!1))},E=()=>{_(!0),bt().then(u=>{var O,F,I,B,Y,q,H,V,G,Q,L,tt,et,at,nt,ot;((F=(O=u==null?void 0:u.data)==null?void 0:O.data)!=null&&F.signature_file||(B=(I=u==null?void 0:u.data)==null?void 0:I.data)!=null&&B.signature_text)&&(U(!0),_(!1),s((q=(Y=u==null?void 0:u.data)==null?void 0:Y.data)==null?void 0:q.id)),(V=(H=u==null?void 0:u.data)==null?void 0:H.data)!=null&&V.metadata&&y((Q=(G=u==null?void 0:u.data)==null?void 0:G.data)==null?void 0:Q.metadata),(tt=(L=u==null?void 0:u.data)==null?void 0:L.data)!=null&&tt.signature_file?f((at=(et=u==null?void 0:u.data)==null?void 0:et.data)==null?void 0:at.signature_file):h({signatureText:(ot=(nt=u==null?void 0:u.data)==null?void 0:nt.data)==null?void 0:ot.signature_text})}).catch(u=>console.log(u)).finally(()=>_(!1))},A=()=>{if(i){const u={accepted_by_candidate:!0,digital_signature:i};_(!0),jt(t,u).then(()=>{rt(St,Pt),o("/job-seeker/dashboard")}).catch(O=>console.log(O)).finally(()=>_(!1))}else rt(Nt)};return e.jsxs(e.Fragment,{children:[e.jsxs("main",{children:[x&&e.jsx(ct,{}),e.jsx("section",{className:"job-seeker-dashboard-sec py-70",children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"shadow-box coverletter-sec",children:[e.jsx("h4",{children:"Offer Letter"}),e.jsxs("div",{className:"coverletter-cotnent border-top py-4 mt-4",children:[e.jsxs("p",{children:["Dear"," ",`${c==null?void 0:c.first_name} ${c==null?void 0:c.last_name}`,","]}),e.jsxs("p",{children:["We were all very excited to meet and get to know you over the past few days. We have been impressed with your background and would like to formally offer you the position of ",g||"[Job_title]","."]}),e.jsxs("p",{children:["This is a"," ",(r==null?void 0:r.job_type)&&r.job_type,"time position You will be reporting to the head of the"," ",(r==null?void 0:r.department_name)&&(r==null?void 0:r.department_name)," ","department. [If applicable: Please note that [Company_name] is an at-will employer. That means that either you or [Company_name] are free to end the employment relationship at any time, with or without notice or cause.]"]}),e.jsxs("p",{children:["We will be offering you an annual gross salary of"," ",(r==null?void 0:r.salary)&&` $${r==null?void 0:r.salary}`," ","and"," ",(r==null?void 0:r.bonus_programs)&&(r==null?void 0:r.bonus_programs)," ","You will also have"," ",(r==null?void 0:r.company_benefits)&&`${r==null?void 0:r.company_benefits} and `,(r==null?void 0:r.paid_vacation)&&(r==null?void 0:r.paid_vacation)," ","days of paid vacation per year."]}),e.jsxs("p",{children:["Your expected starting date is"," ",(r==null?void 0:r.expected_starting_date)&&(r==null?void 0:r.expected_starting_date)," ","You will be asked to sign a contract of"," ",(r==null?void 0:r.contract_duration)&&(r==null?void 0:r.contract_duration)," ","and"," ",(r==null?void 0:r.agreements)&&(r==null?void 0:r.agreements)," ","at the beginning of your employment."]}),e.jsxs("p",{children:["We would like to have your response by"," ",(r==null?void 0:r.response_date)&&(r==null?void 0:r.response_date)," ","In the meantime, please feel free to contact me"," ",(r==null?void 0:r.manager_name)&&` or ${r==null?void 0:r.manager_name}`," ","via email or phone on"," ",(r==null?void 0:r.contact_details)&&(r==null?void 0:r.contact_details)," ",", should you have any questions."]}),e.jsx("p",{children:"We are all looking forward to having you on our team."}),e.jsx("p",{children:e.jsx("strong",{children:"Best regards,"})}),e.jsx("p",{children:e.jsx("strong",{children:" "})}),e.jsx("p",{onClick:z,children:e.jsx("strong",{className:`signature ${l&&"notAllowed"}`,children:k?"Click to Update Signature":"Click to Add Signature"})}),e.jsx("p",{children:C?e.jsx("img",{className:"signatureImage",src:`${wt}${C}`}):e.jsx("strong",{className:`${S}`,children:P==null?void 0:P.signatureText})})]})]})}),e.jsx("div",{className:"col-12 mt-4 text-center",children:e.jsx("button",{onClick:A,type:"button",className:`btn-design ${(l||W)&&"notAllowed"}`,"data-bs-toggle":"modal","data-bs-target":"#applyPopup",disabled:l,children:W?"offer expired":l?"Already Accepted":"Accept Offer Letter"})})]})})})]}),n&&e.jsx(Ft,{showAddSignatureModal:n,toggleAddSignatureModal:z,toggleSignaturePadModal:$,setSignature:h,signature:P,setIsSignatureAdded:b,isSignatureAdded:N,isEdit:k,setSelectedFont:y,selectedFont:S,setLoader:_,loader:x,getSignature:E,setSignatureUrl:f,handleCancel:X}),m&&e.jsx(At,{showSignaturePadModal:m,toggleSignaturePadModal:$,setSignature:h,signature:P,setIsSignatureAdded:b})]})};export{Dt as default};
