import{j as e,Z,a8 as xe,r as N,aE as Ae,u as be,aF as Te,ax as ie,b as Ee,aG as Me,aH as we,aI as Re,V as ge,ar as re,aJ as ne,af as Oe,P as He,aK as Le,x as ke,aL as O,_ as Pe,Q as ae,a2 as Fe}from"./index-f542c721.js";import{T as p,g as $e,a as ze,b as Ve,c as qe,J as Je,O as Ue,A as Be,M as _e,s as We,d as Ye}from"./ApplicationModals-95ff2685.js";import{F as ye}from"./FilterTabs-48897b3d.js";import{D as Ge}from"./DeleteAccountModal-6faddca3.js";import{c as Ke}from"./candidateJobs-9f40d583.js";import"./successModal-121b1d48.js";import"./index.esm-822dde25.js";import"./SubmitButton-265ed07f.js";import"./DropDownWithSearch-c72190d4.js";import"./index-27ed1d6c.js";const Se=({skillsList:s})=>e.jsxs("div",{className:"applicant-skills pb-4",children:[e.jsx("h6",{children:"Skills"}),e.jsx("ul",{children:(s==null?void 0:s.length)>0?s==null?void 0:s.map((o,i)=>e.jsx("li",{className:"btn-design border-btn btn-small",children:o},i)):e.jsx(Z,{})})]});function Ze(s){var o,i,t,n,j,c,h,S,x;return e.jsx("div",{className:"tab-pane fade show active",role:"tabpanel",children:e.jsxs("div",{className:"applicant-cv",children:[e.jsxs("div",{className:"applicantcvInfo",children:[e.jsx("div",{className:"cv-thumb",children:e.jsx("img",{src:"/assets/images/demo-user.png",alt:"CV Thumbnail"})}),e.jsxs("div",{className:"cv-name",children:[e.jsx("h6",{children:s.candidataData.candidate_name}),e.jsxs("p",{children:[(o=s==null?void 0:s.candidataData)==null?void 0:o.phone_number,((i=s==null?void 0:s.candidataData)==null?void 0:i.email)&&e.jsxs(e.Fragment,{children:[" | ",(t=s==null?void 0:s.candidataData)==null?void 0:t.email," "]})," ",((n=s==null?void 0:s.candidataData)==null?void 0:n.job_locations.length)>0&&e.jsxs(e.Fragment,{children:["| ",(j=s==null?void 0:s.candidataData)==null?void 0:j.job_locations[0].location]})]})]})]}),e.jsxs("div",{className:"applicant-exp",children:[e.jsx("h6",{children:"Experience"}),(c=s==null?void 0:s.candidataData)!=null&&c.experiences.length?(h=s==null?void 0:s.candidataData)==null?void 0:h.experiences.map((u,b)=>e.jsxs("div",{className:"exp_list",children:[e.jsx("p",{children:e.jsxs("strong",{children:[u==null?void 0:u.company_name," ",(u==null?void 0:u.location)&&`| ${u==null?void 0:u.location}`]})}),e.jsxs("p",{children:[u==null?void 0:u.position," | ",u==null?void 0:u.start_month,"-",u==null?void 0:u.start_year," - ",u==null?void 0:u.end_month,"-",u.end_year]}),e.jsx("p",{children:"Add responsibilities and accomplishments"})]},b)):e.jsx(Z,{})]}),e.jsxs("div",{className:"applicant-skills",children:[e.jsx("h6",{children:"Skills"}),e.jsx("div",{className:"exp_list",children:e.jsx("p",{children:(S=s.candidataData.skills)!=null&&S.length?s.candidataData.skills.map(u=>u.skill_name).join(", "):e.jsx(Z,{})})})]}),e.jsxs("div",{className:"applicant-education",children:[e.jsx("h6",{children:"Education"}),(x=s.candidataData.qualifications)!=null&&x.length?s.candidataData.qualifications.map((u,b)=>e.jsxs("div",{className:"exp_list",children:[e.jsxs("p",{children:[u.university," | Add location"]}),e.jsxs("p",{children:[u.qualification," | ",u.graduation_year]}),e.jsx("p",{children:"List academic achievements"})]},b)):e.jsx(Z,{})]})]})})}function Qe({candidataData:s}){return e.jsx("div",{className:"tab-pane fade show active",role:"tabpanel",children:e.jsx(Se,{skillsList:s==null?void 0:s.map(o=>o)})})}function Xe({candidataData:s}){var i,t,n,j,c;const{companyProfile:o}=xe(h=>h==null?void 0:h.recruiter);return e.jsx("div",{className:"tab-pane fade show active",role:"tabpanel",children:e.jsxs("div",{className:"applicant-coverLetter",children:[e.jsxs("p",{children:["Dear ",o==null?void 0:o.company_name,","]}),e.jsxs("p",{children:["It is with great pleasure that I am applying for the Professional Sales position at ",o==null?void 0:o.company_name,"."," ",((i=s==null?void 0:s.candidate_cover_letter_json)==null?void 0:i.educationDetails.length)>0&&e.jsxs(e.Fragment,{children:[" ","As a recent graduate of"," ",(t=s==null?void 0:s.candidate_cover_letter_json)==null?void 0:t.educationDetails,","," ",((n=s==null?void 0:s.candidate_cover_letter_json)==null?void 0:n.extracurricularActivities.length)>0&&e.jsxs(e.Fragment,{children:["not only did I maintain excellent grades, but"," ",(j=s==null?void 0:s.candidate_cover_letter_json)==null?void 0:j.extracurricularActivities]}),"."," "]})]}),e.jsx("p",{children:"My background has required me to be a strong manager of my time to balance school and athletics, which I am confident, will be a quality that will be important in this position. My years of working in a team environment, my strong competitive nature, as well as my success in leadership, are also qualities that I bring to my career."}),e.jsx("p",{children:"My goal is to join a company where there is growth potential, so I am sure I can fulfill that need of yours. My personality and competitive nature have made me realize that my skills will be beneficial in dealing with clients in sales."}),e.jsx("p",{children:"I am extremely passionate about the work in this profession and would be ecstatic to share my skills and experiences with your exceptional team. I appreciate your time and consideration and look forward to speaking with you soon."}),e.jsxs("p",{children:["Sincerely,",e.jsx("br",{}),(c=s==null?void 0:s.candidate_details)==null?void 0:c.candidate_name]})]})})}var Ne={},pe={};Object.defineProperty(pe,"__esModule",{value:!0});var H=function(){function s(o,i){var t=[],n=!0,j=!1,c=void 0;try{for(var h=o[Symbol.iterator](),S;!(n=(S=h.next()).done)&&(t.push(S.value),!(i&&t.length===i));n=!0);}catch(x){j=!0,c=x}finally{try{!n&&h.return&&h.return()}finally{if(j)throw c}}return t}return function(o,i){if(Array.isArray(o))return o;if(Symbol.iterator in Object(o))return s(o,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();pe.default=De;var L=N;function De(s){var o=(0,L.useState)(s.count),i=H(o,2),t=i[0],n=i[1],j=(0,L.useState)(s.size),c=H(j,2),h=c[0],S=c[1],x=(0,L.useState)(s.char),u=H(x,2),b=u[0],I=u[1],k=(0,L.useState)(s.color),g=H(k,2),P=g[0],M=g[1],K=(0,L.useState)(s.activeColor),F=H(K,2),v=F[0],w=F[1],q=(0,L.useState)(s.isHalf),$=H(q,2),z=$[0],J=$[1],D=(0,L.useState)(s.edit),U=H(D,2),B=U[0],R=U[1],ee=(0,L.useState)(s.emptyIcon),W=H(ee,2),se=W[0],te=W[1],le=(0,L.useState)(s.halfIcon),Q=H(le,2),l=Q[0],r=Q[1],d=(0,L.useState)(s.filledIcon),m=H(d,2),_=m[0],C=m[1],X=(0,L.useState)(s.a11y),Y=H(X,2),me=Y[0],ce=Y[1],he={count:t,size:h,char:b,color:P,activeColor:v,isHalf:z,edit:B,emptyIcon:se,halfIcon:l,filledIcon:_,a11y:me};function de(A){n(A.count),S(A.size),I(A.char),M(A.color),w(A.activeColor),J(A.isHalf),R(A.edit),te(A.emptyIcon),r(A.halfIcon),C(A.filledIcon),ce(A.a11y)}return[he,de]}var ve={};Object.defineProperty(ve,"__esModule",{value:!0});var es=Object.assign||function(s){for(var o=1;o<arguments.length;o++){var i=arguments[o];for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&(s[t]=i[t])}return s};ve.default=ns;var ss=N,ts=ls(ss);function ls(s){return s&&s.__esModule?s:{default:s}}var rs={position:"relative",overflow:"hidden",cursor:"pointer",display:"block",float:"left"};function ns(s){var o=s.index,i=s.active,t=s.config,n=s.onMouseOver,j=s.onMouseLeave,c=s.onClick,h=s.halfStarHidden,S=s.halfStarAt,x=s.isUsingIcons,u=s.uniqueness,b=t.color,I=t.activeColor,k=t.size,g=t.char,P=t.isHalf,M=t.edit,K=t.halfIcon,F=t.emptyIcon,v=t.filledIcon,w="",q=!1;P&&!h&&S===o&&(x?w="react-stars-half":w="react-stars-"+u,q=!0);var $=es({},rs,{color:i?I:b,cursor:M?"pointer":"default",fontSize:k+"px"});function z(){return x?i?v:!i&&q?K:F:g}return ts.default.createElement("span",{className:w,style:$,key:o,"data-index":o,"data-forhalf":v?o:g,onMouseOver:n,onMouseMove:n,onMouseLeave:j,onClick:c},z())}Object.defineProperty(Ne,"__esModule",{value:!0});var G=function(){function s(o,i){var t=[],n=!0,j=!1,c=void 0;try{for(var h=o[Symbol.iterator](),S;!(n=(S=h.next()).done)&&(t.push(S.value),!(i&&t.length===i));n=!0);}catch(x){j=!0,c=x}finally{try{!n&&h.return&&h.return()}finally{if(j)throw c}}return t}return function(o,i){if(Array.isArray(o))return o;if(Symbol.iterator in Object(o))return s(o,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),V=N,oe=ue(V),os=Ae(),E=ue(os),is=pe,cs=ue(is),as=ve,us=ue(as);function ue(s){return s&&s.__esModule?s:{default:s}}var ms={overflow:"hidden",position:"relative"};function hs(s,o){return`
    .react-stars-`+o+`:before {
      position: absolute;
      overflow: hidden;
      display: block;
      z-index: 1;
      top: 0; left: 0;
      width: 50%;
      content: attr(data-forhalf);
      color: `+s+`;
  }`}function ds(s){return`
          span.react-stars-half > * {
          color: `+s+`;
      }`}function je(s){var o=(0,V.useState)(""),i=G(o,2),t=i[0],n=i[1],j=(0,V.useState)(0),c=G(j,2),h=c[0],S=c[1],x=(0,V.useState)([]),u=G(x,2),b=u[0],I=u[1],k=(0,V.useState)(!1),g=G(k,2),P=g[0],M=g[1],K=(0,cs.default)(s),F=G(K,2),v=F[0],w=F[1],q=(0,V.useState)(0),$=G(q,2),z=$[0],J=$[1],D=(0,V.useState)(!1),U=G(D,2),B=U[0],R=U[1],ee=(0,V.useState)(""),W=G(ee,2),se=W[0],te=W[1];function le(a){return!a.isHalf&&a.emptyIcon&&a.filledIcon||a.isHalf&&a.emptyIcon&&a.halfIcon&&a.filledIcon}function Q(){n((Math.random()+"").replace(".",""))}(0,V.useEffect)(function(){r(),l(s.value,s.count),I(_(s.value)),w(s),Q(),M(le(s)),J(Math.floor(s.value)),R(s.isHalf&&s.value%1<.5)},[]);function l(a,f){a<0||a>f?S(0):S(a)}function r(){var a="react-stars";te(s.classNames+(" "+a))}function d(a){return a%1===0}function m(){return v.isHalf?Math.floor(h):Math.round(h)}function _(a){typeof a>"u"&&(a=m());for(var f=[],y=0;y<v.count;y++)f.push({active:y<=a-1});return f}function C(a){if(v.edit){var f=Number(a.currentTarget.getAttribute("data-index"));if(v.isHalf){var y=Y(a);R(y),y&&(f+=1),J(f)}else f+=1;X(f)}}function X(a){var f=b.filter(function(y){return y.active});a!==f.length&&I(_(a))}function Y(a){var f=a.target,y=f.getBoundingClientRect(),T=a.clientX-y.left;return T=Math.round(Math.abs(T)),T>y.width/2}function me(){v.edit&&(ce(h),I(_()))}function ce(a){v.isHalf&&(R(d(a)),J(Math.floor(a)))}function he(a){if(v.edit){var f=Number(a.currentTarget.getAttribute("data-index")),y=void 0;if(v.isHalf){var T=Y(a);R(T),T&&(f+=1),y=T?f:f+.5,J(f)}else y=f=f+1;A(y)}}function de(){return oe.default.createElement("style",{dangerouslySetInnerHTML:{__html:P?ds(v.activeColor):hs(v.activeColor,t)}})}function A(a){a!==h&&(I(_(a)),S(a),s.onChange(a))}function Ie(a){if(!(!v.a11y&&!v.edit)){var f=a.key,y=h,T=Number(f);T?Number.isInteger(T)&&T>0&&T<=v.count&&(y=T):(f==="ArrowUp"||f==="ArrowRight")&&y<v.count?(a.preventDefault(),y+=v.isHalf?.5:1):(f==="ArrowDown"||f==="ArrowLeft")&&y>.5&&(a.preventDefault(),y-=v.isHalf?.5:1),ce(y),A(y)}}function Ce(){return b.map(function(a,f){return oe.default.createElement(us.default,{key:f,index:f,active:a.active,config:v,onMouseOver:C,onMouseLeave:me,onClick:he,halfStarHidden:B,halfStarAt:z,isUsingIcons:P,uniqueness:t})})}return oe.default.createElement("div",{className:"react-stars-wrapper-"+t,style:{display:"flex"}},oe.default.createElement("div",{tabIndex:v.a11y&&v.edit?0:null,"aria-label":"add rating by typing an integer from 0 to 5 or pressing arrow keys",onKeyDown:Ie,className:se,style:ms},v.isHalf&&de(),Ce(),oe.default.createElement("p",{style:{position:"absolute",left:"-200rem"},role:"status"},h)))}je.propTypes={classNames:E.default.string,edit:E.default.bool,half:E.default.bool,value:E.default.number,count:E.default.number,char:E.default.string,size:E.default.number,color:E.default.string,activeColor:E.default.string,emptyIcon:E.default.element,halfIcon:E.default.element,filledIcon:E.default.element,a11y:E.default.bool};je.defaultProps={edit:!0,half:!1,value:0,count:5,char:"★",size:15,color:"gray",activeColor:"#ffd700",a11y:!0,onChange:function(){}};var fe=Ne.default=je;const fs=({candidataData:s,badgeName:o})=>{var i;return e.jsx("div",{className:"tab-pane fade show active",children:e.jsxs("div",{className:"applicant-overview",children:[o===p.INTERVIEWED?e.jsx("h6",{children:"Comment"}):e.jsx("h6",{children:"Summary"}),o===p.INTERVIEWED?e.jsx("p",{children:s!=null&&s.interviews&&s.interviews[0].comment.length>0?(s==null?void 0:s.interviews)&&s.interviews[0].comment:"No data found"}):e.jsx("p",{children:s==null?void 0:s.professional_overview}),o===p.INTERVIEWED&&(s!=null&&s.interviews)?e.jsxs("div",{className:"applicant-ratings",children:[e.jsx("h6",{children:"Rating"}),s!=null&&s.interviews&&s.interviews[0].comment.length>0?e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"start",alignItems:"center"},children:[e.jsx("span",{style:{minWidth:"150px",marginRight:"12px"},children:"Technical Test"}),e.jsx(fe,{count:5,value:s.interviews[0].technical_test_rating,size:22,activeColor:"#ffd700",edit:!1})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"start",alignItems:"center"},children:[e.jsx("span",{style:{minWidth:"150px",marginRight:"12px"},children:"Cummunication"}),e.jsx("span",{children:e.jsx(fe,{count:5,value:s.interviews[0].communication_rating,size:22,activeColor:"#ffd700",edit:!1})})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"start",alignItems:"center"},children:[e.jsx("span",{style:{minWidth:"150px",marginRight:"12px"},children:"Responsibility"}),e.jsx("span",{children:e.jsx(fe,{count:5,value:s.interviews[0].responsibility_rating,size:22,activeColor:"#ffd700",edit:!1})})]})]}):e.jsx(Z,{})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"applicant-exp pb-2",children:[e.jsx("h6",{children:"Recent Experience"}),(i=s==null?void 0:s.experiences)==null?void 0:i.map((t,n)=>e.jsxs("div",{className:"profile-field-col",children:[e.jsx("div",{className:"profile-field-icon",children:e.jsx("span",{children:e.jsx("img",{src:"/assets/images/flexis.png",alt:"Flexis Logo"})})}),e.jsxs("div",{className:"profile-field-right",children:[e.jsx("h6",{children:t.position}),e.jsx("p",{children:t.job_description}),e.jsxs("span",{children:[" ",t.start_month," ",t.start_year," -"," ",t.end_month," ",t.end_year]})," ","|"," ",e.jsx("span",{children:e.jsx("a",{href:"mailto:test@example.com",children:"Send email for Vetting"})})]})]},n))]}),e.jsx(Se,{skillsList:s.skills.map(t=>t.skill_name)})]})]})})},ps=({children:s,showBadge:o=!1,badgeName:i,candidataData:t})=>{var h,S,x,u,b,I,k;const[n,j]=N.useState("Overview"),c=be();return e.jsxs("div",{className:"applications-details-col border mb-4",children:[e.jsxs("div",{className:"applicant-header border-bottom",children:[i===p.RECOMMENDED&&e.jsx("div",{className:"applications-tag",children:"Recommended"}),i===p.SHORTLISTED&&e.jsxs("div",{className:"applications-tag",children:[e.jsx("img",{src:"/assets/images/shortlist-icon.svg"})," Shortlisted"]}),e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-lg-8 col-12",children:e.jsxs("div",{className:"applicant-info-col",children:[e.jsx("div",{className:"applicant-thumb cursor-pointer",onClick:()=>{var g;return c(`/view-candidate-public-profile/${(g=t==null?void 0:t.candidate_details)==null?void 0:g.id}`)},children:e.jsx("img",{src:"/assets/images/user-profile.svg",alt:"User Profile"})}),e.jsxs("div",{className:"applicant-info",children:[e.jsx("h6",{className:"cursor-pointer",onClick:()=>{var g;return c(`/view-candidate-public-profile/${(g=t==null?void 0:t.candidate_details)==null?void 0:g.id}`)},children:(h=t==null?void 0:t.candidate_details)==null?void 0:h.candidate_name}),e.jsxs("ul",{children:[e.jsx("li",{children:(S=t==null?void 0:t.candidate_details)==null?void 0:S.job_title}),e.jsxs("li",{children:[" ",(x=t==null?void 0:t.candidate_details)!=null&&x.total_experience?(u=t==null?void 0:t.candidate_details)==null?void 0:u.total_experience:"Fresher"]}),e.jsx("li",{children:((I=(b=t==null?void 0:t.candidate_details)==null?void 0:b.employment_options)==null?void 0:I.length)>0?(k=t==null?void 0:t.candidate_details)==null?void 0:k.employment_options.map(g=>g.title).join(" | "):" "})]})]})]})}),e.jsx("div",{className:"col-lg-4 col-12",children:e.jsxs("div",{className:"applicant-social-title",children:[e.jsx("a",{href:"#",children:e.jsx("img",{src:"/assets/images/linkedin-icon.svg",alt:"LinkedIn Icon"})}),e.jsxs("p",{children:["Job Title: ",e.jsx("strong",{children:t==null?void 0:t.job_title})]})]})})]})]}),e.jsxs("div",{className:"applicant-body",children:[e.jsx("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist",children:Te.map((g,P)=>e.jsxs(N.Fragment,{children:[e.jsx(ye,{title:i==="recommended"&&g==="Cover Letter"?!1:g,active:n===g,handleClickTab:()=>j(g)})," "]},P))}),e.jsxs("div",{className:"tab-content",children:[n==="Overview"&&(t==null?void 0:t.candidate_details)&&e.jsx(fs,{candidataData:t==null?void 0:t.candidate_details,badgeName:i}),n==="CV"&&e.jsx(Ze,{candidataData:t.candidate_details}),n==="Skill Match"&&e.jsx(Qe,{candidataData:t.matched_skills}),n==="Cover Letter"&&e.jsx(Xe,{candidataData:t})]})]}),e.jsx(e.Fragment,{children:s})]})},vs=({applicationData:s,deleteHiredJob:o})=>{const[i,t]=N.useState({show:!1,id:""}),n=c=>{t({show:!0,id:c})},j=()=>{o(i.id,()=>t({show:!i.show,id:""}))};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"applications-details-col border mb-4",children:e.jsx("div",{className:"applicant-body",children:e.jsx("div",{className:"global-table table-responsive",children:e.jsxs("table",{className:"table align-middle",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Date"}),e.jsx("th",{children:"Candidate Name"}),e.jsx("th",{style:{width:"35%",minWidth:"200px"},children:"Job Title"}),e.jsx("th",{className:"text-end",children:"Actions"})]})}),e.jsx("tbody",{children:s.length>0?s==null?void 0:s.map((c,h)=>e.jsxs("tr",{children:[e.jsx("td",{children:ie(c==null?void 0:c.hired_at,"DD-MM-YYYY").format("MMMM DD, YYYY")}),e.jsx("td",{children:c==null?void 0:c.candidate_name}),e.jsx("td",{children:c==null?void 0:c.job_title}),e.jsx("td",{className:"text-end",children:e.jsx("div",{className:"action-flex",children:e.jsx("span",{className:"cursor-pointer",onClick:()=>n(c==null?void 0:c.id),children:e.jsx("i",{className:"fas fa-trash-alt"})})})})]},h)):e.jsx(Z,{})})]})})})}),i.show&&e.jsx(Ge,{toggleModal:()=>t({show:!i.show,id:""}),showDeleteModal:i.show,text:"Are you sure you want to delete this record?",handleConfirmDelete:j})]})},As=()=>{const[s,o]=N.useState(0),[i,t]=N.useState({show:!1,modalTitle:"",modalName:"",id:null}),[n,j]=N.useState(p.RECOMMENDED),[c,h]=N.useState([]),[S,x]=N.useState(null),[u,b]=N.useState(!0),[I,k]=N.useState({keywords:[],custom_search:"",job_type:[],job_location:[],skills:[],employment_type:[],rating:[],salaryRange:{salary_amount_currency:"",range:"",salary_amount_type:"",salary_amount_max:"",salary_amount_min:""}}),[g,P]=N.useState({}),[M,K]=N.useState({page:1}),[F,v]=N.useState([]),[w,q]=N.useState("-created_at"),$=Ee(),z=xe(l=>{var r;return(r=l==null?void 0:l.masterAPIData)==null?void 0:r.timeZone}),J=be();N.useEffect(()=>{h([]);const l=localStorage.getItem("redirectedTab");let r=l||n;j(d=>r),localStorage.removeItem("redirectedTab"),b(!0),r===p.RECOMMENDED?U():R()},[I,n,M,w]),N.useEffect(()=>{B(),D()},[]),N.useEffect(()=>{!(z!=null&&z.length)>0&&Me().then(l=>{var r,d;$(we((d=(r=l==null?void 0:l.data)==null?void 0:r.data)==null?void 0:d.timezones))}).catch(l=>{console.log(l,"error in time zone API")})},[]);const D=()=>{Re().then(l=>{v(l.data.data)}).catch(l=>{console.log(l,"error in filter API")})},U=()=>{var d;b(!0);let l={...I};((d=I.rating)==null?void 0:d.length)>0&&(l.rating=[Math.max(...I.rating)]);let r=ge(l);r=r.length>0?`${r}&page=${M.page}`:`page=${M.page}&${`page_size=${n===p.CONTRACT||n===p.HIRED?re:ne}`}`,$e(`${r}`).then(m=>{var _,C;o(m.data.data.count),h((C=(_=m==null?void 0:m.data)==null?void 0:_.data)!=null&&C.results?m.data.data.results:[])}).catch(m=>{console.error(m)}).finally(()=>{b(!1)})},B=()=>{ze().then(l=>{P(l.data.data)}).catch(l=>{console.log(l,"error")})},R=()=>{var d;b(!0);let l={...I};((d=I.rating)==null?void 0:d.length)>0&&(l.rating=[Math.max(...I.rating)]);let r=ge(l);r=r.length>0?`?status=${n}&${r}&page=${M.page}&${`page_size=${n===p.CONTRACT||n===p.HIRED?re:ne}`}&order_by=${w}`:`?status=${n}&page=${M.page}&${`page_size=${n===p.CONTRACT||n===p.HIRED?re:ne}`}&order_by=${w}`,n===p.HIRED?Ve(r).then(m=>{var _,C;o(m.data.data.count),h((C=(_=m==null?void 0:m.data)==null?void 0:_.data)!=null&&C.results?m.data.data.results:[])}).catch(m=>{console.error(m)}).finally(()=>{b(!1)}):qe(r).then(m=>{var _,C;o(m.data.data.count),h((C=(_=m==null?void 0:m.data)==null?void 0:_.data)!=null&&C.results?m.data.data.results:[])}).catch(m=>{console.error(m)}).finally(()=>{b(!1)})},ee=l=>{K({page:l.selected+1})},W=(l,r)=>{l===O.INVITE_SUCCESS_MODAL?t({show:!0,modalTitle:p.APPLIED,modalName:O.INVITE_SUCCESS_MODAL,id:null}):l===_e.invitation?t({show:!0,modalTitle:e.jsxs(e.Fragment,{children:[ie(r==null?void 0:r.start_date).format("dddd"),",",ie(r==null?void 0:r.start_date).format("MMMM d")," at"," ",ie(r==null?void 0:r.start_time,"HH:mm").format("h:mm A"),"-",ie(r==null?void 0:r.end_time,"HH:mm").format("h:mm A")," ","sent to ",e.jsxs("strong",{children:[r==null?void 0:r.candidate_name," "]})]}),modalName:_e.invitation,id:null}):t({show:!1,modalTitle:"",modalName:"",id:null})},se=(l,r)=>{W(l,r),B(),n===p.RECOMMENDED?U():R()},te=l=>{const r={application_status:Fe.shortlisted};We(l,r).then(d=>{var m;((m=d==null?void 0:d.data)==null?void 0:m.status)==="success"&&(t({show:!0,modalName:O.INVITE_SUCCESS_MODAL,modalTitle:p.SHORTLISTED}),R(),B())}).catch(d=>{var m,_;typeof((_=(m=d==null?void 0:d.response)==null?void 0:m.data)==null?void 0:_.message)=="string"?ae.error(d.response.data.message):ae.error("Something went wrong")})},le=(l,r)=>{Ye(l).then(d=>{r(),ae.success("Application deleted successfully"),R(),B()}).catch(d=>{var _,C,X,Y;r();const m=(C=(_=d==null?void 0:d.response)==null?void 0:_.data)!=null&&C.message?(Y=(X=d==null?void 0:d.response)==null?void 0:X.data)==null?void 0:Y.message:"Something went wrong! please try again";ae.error(m)})},Q=l=>{b(!0),Ke(l).then(r=>{var d,m,_;b(!1),localStorage.setItem("roomId",(_=(m=(d=r.data)==null?void 0:d.data)==null?void 0:m.results)==null?void 0:_.room_name),J("/job-recruiter/messages"),console.log(r)}).catch(r=>{b(!1),console.log(r)})};return e.jsx(e.Fragment,{children:e.jsxs(Oe,{header:"Applications",subTitle:"Vivamus facilisis arcu quis sapien venenatis, a feugiat urna tristique. Sed gravida non mauris at ",showSearchBar:!1,selectedFilter:I,setSelectedFilter:k,applicationsData:c,filterList:F,isApplication:!0,children:[e.jsx("div",{className:"business-dashboard",children:e.jsx("div",{className:"dashboard-main-panel",children:e.jsxs("div",{className:"dashboard-panel-content",children:[e.jsx("div",{className:"top_left font-weight-bold for-mobile",children:e.jsx("h3",{children:"Applications"})}),e.jsxs("div",{className:"dashboard-application",children:[e.jsx("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist",children:Je.map((l,r)=>e.jsxs(N.Fragment,{children:[e.jsx(ye,{title:l.title,active:n===l.type,handleClickTab:()=>{j(l.type)},showCount:l.count,count:g[l.type]?g[l.type]:0})," "]},r))}),e.jsx("div",{className:"tab-content",id:"myTabContent",children:e.jsxs("div",{className:"tab-pane fade show active",id:"recommended",role:"tabpanel","aria-labelledby":"recommended-tab",children:[u&&e.jsx(He,{}),n!==p.RECOMMENDED&&e.jsx("div",{children:e.jsx("div",{className:"row align-items-center",children:e.jsx("div",{className:"col-md-12",children:e.jsx("div",{className:"d-flex justify-content-end",children:e.jsx("div",{className:"fieldset custom-search",children:e.jsx(Le,{option:Ue,handleOnChange:l=>q(l),smallDropdown:!0})})})})})}),e.jsx("div",{className:"applications-tabs-col align-items-start",children:e.jsxs("div",{className:"applications-details-sec",children:[n===p.CONTRACT||n===p.HIRED?e.jsx(vs,{selectedTab:n,applicationData:c,deleteHiredJob:le}):e.jsx(e.Fragment,{children:c.length>0?c==null?void 0:c.map((l,r)=>e.jsx(ke.Fragment,{children:e.jsxs(ps,{badgeName:n,candidataData:l,children:[" ",n===p.RECOMMENDED&&e.jsxs("div",{className:"applicant-footer border-top py-2",children:[e.jsx("span",{onClick:()=>Q(l==null?void 0:l.candidate_details.id),className:"btn-design border-btn",children:"Message"}),e.jsx("button",{type:"button",className:"btn-design",onClick:()=>{x(r),t({show:!0,modalName:O.INVITE_MODAL,modalTitle:"Invite to Apply",id:l.application_id})},children:"Invite to Apply"})]}),n===p.APPLIED&&e.jsxs("div",{className:"applicant-footer border-top py-2",children:[e.jsxs("button",{type:"button",className:"btn-design border-btn",onClick:()=>{te(l.application_id)},children:[e.jsx("img",{src:"/assets/images/shortlist-icon.svg"})," ","Shortlist"]}),e.jsx("button",{type:"button",className:"btn-design",onClick:()=>{x(r),t({show:!0,modalName:O.HIRE_MODAL,modalTitle:"Hire Talent",id:l.application_id})},children:"Hire"}),e.jsx("button",{type:"button",className:"btn-design decline-btn",onClick:()=>t({show:!0,modalName:O.DECLINED_MODAL,modalTitle:"Declined Talent",id:l.application_id}),children:"Decline"})]}),n===p.SHORTLISTED&&e.jsxs("div",{className:"applicant-footer border-top py-2",children:[e.jsx("button",{type:"button",className:"btn-design  border-btn",onClick:()=>{x(r),t({show:!0,modalName:O.HIRE_MODAL,modalTitle:"Hire Talent",id:l.application_id})},children:"Hire"}),e.jsx("button",{type:"button",className:"btn-design",disabled:l.interview_scheduled,onClick:()=>{x(r),t({show:!0,modalName:O.INTERVIEW_SCHEDULE_MODAL,modalTitle:"Schedule Interview",id:l.application_id})},children:l.interview_scheduled?"Interview Scheduled":"Schedule Interview"}),e.jsx("button",{type:"button",className:"btn-design decline-btn",onClick:()=>t({show:!0,modalName:O.DECLINED_MODAL,modalTitle:"Declined Talent",id:l.application_id}),children:"Decline"})]}),n===p.INTERVIEWED&&e.jsxs("div",{className:"applicant-footer border-top py-2",children:[e.jsx("button",{type:"button",className:"btn-design",onClick:()=>{x(r),t({show:!0,modalName:O.HIRE_MODAL,modalTitle:"Hire Talent",id:l.application_id})},children:"Hire"}),e.jsx("button",{type:"button",className:"btn-design border-btn",onClick:()=>{x(r),t({show:!0,modalName:O.DECLINED_MODAL,modalTitle:"Declined Talent",id:l.application_id})},children:"Reject"})]})]})},r)):e.jsx(Z,{})}),n===p.CONTRACT||n===p.HIRED?s>re:s>ne&&e.jsx(Pe,{onPageChange:ee,totalPage:s,jobPerPage:n===p.CONTRACT||n===p.HIRED?re:ne})]})})]})})]})]})})}),i.show&&e.jsx(Be,{modalDetails:i,toggleModal:W,afterSuccessfullyChangedStatus:se,candidataData:c[S]})]})})};export{As as default};
