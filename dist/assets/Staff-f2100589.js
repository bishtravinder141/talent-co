import{u as v,r as l,j as e,P as E,N as I,L as c,p as b,aM as k,Z as T,_ as z,Q as S,af as F}from"./index-f542c721.js";import{g as R,d as B}from"./staffApiData-ffb72625.js";import{D as J}from"./DeleteAccountModal-6faddca3.js";const O="/assets/share-07b0fa11.svg",U="/assets/edit-icon-4818cf05.svg",W="/assets/del-07824d40.svg",Y=()=>{const o=v(),[t,C]=l.useState([]),[d,r]=l.useState(!1),[g,x]=l.useState(null),[P,n]=l.useState(!0),[i,_]=l.useState({page:1}),[u,y]=l.useState(0);l.useState(!1);const h=9;l.useEffect(()=>{j()},[i]);const j=()=>{n(!0);const s=`page=${i==null?void 0:i.page}&page_size=${h}`;R(s).then(a=>{var m,f,p,N;a&&(C((f=(m=a.data)==null?void 0:m.data)==null?void 0:f.results),y((N=(p=a==null?void 0:a.data)==null?void 0:p.data)==null?void 0:N.count),n(!1))}).catch(a=>{n(!1),console.log(a,"error in get staff")})},D=s=>{x(s),r(!0)},w=()=>{n(!0),g&&B(g).then(s=>{var a;s.status===200?S.success((a=s.data)==null?void 0:a.message):S.error("Something Went Wrong"),j()}).catch(s=>{console.error("Error deleting data:",s)}).finally(()=>{n(!1),r(!1),x(null)})},A=()=>{r(!d)},L=s=>{o("/job-recruiter/staff/add-edit-staff",{state:{staffMember:s}})},$=s=>{_({page:s.selected+1})};return e.jsxs(e.Fragment,{children:[P&&e.jsx(E,{className:"loader_stance"}),e.jsxs("div",{className:"founders",children:[e.jsx("div",{className:"row mt-5",children:(t==null?void 0:t.length)>0?t==null?void 0:t.map(s=>{var a;return e.jsx("div",{className:"col-md-6 col-lg-6 col-xl-4 staffCard mb-3",children:e.jsxs("div",{className:"border-col",children:[e.jsxs("div",{className:" profile_image founderThumb d-flex align-items-start justify-content-between",children:[e.jsx("img",{src:`${s!=null&&s.profile_picture?`${I}${s==null?void 0:s.profile_picture}`:"/assets/images/demo-user.png"}`,alt:s.name}),e.jsx("span",{className:"label-type text-capitalize",children:(a=s.groups[0])==null?void 0:a.name.split("_")[1]})]}),e.jsx("h5",{children:`${s.first_name} ${s.last_name}`}),e.jsx("span",{children:e.jsx("strong",{className:"designation",children:s.designation})}),e.jsxs("div",{className:"bottomCard d-flex justify-content-between align-items-end",children:[e.jsxs("ul",{className:"mt-4",children:[e.jsx("li",{children:e.jsxs(c,{className:"d-flex",children:[e.jsx("img",{src:b,className:"me-3",alt:"phone"}),e.jsx("span",{children:s.phone_number})]})}),e.jsx("li",{children:e.jsxs(c,{className:"d-flex",children:[e.jsx("img",{src:k,className:"me-3",alt:"email"}),e.jsx("span",{children:s.email})]})})]}),e.jsxs("ul",{className:"d-flex align-items-center justify-content-center",children:[e.jsx("li",{children:e.jsx(c,{children:e.jsx("img",{src:W,onClick:()=>D(s.id),alt:"delete",className:"me-3"})})}),e.jsx("li",{children:e.jsx("img",{style:{cursor:"pointer"},onClick:()=>L(s),src:U,alt:"Edit",className:"me-3"})}),e.jsx("li",{children:e.jsx(c,{children:e.jsx("img",{src:O,alt:"share"})})})]})]})]})},s.id)}):e.jsx(T,{msg:"No Staff Added Yet"})}),u>h&&e.jsx(z,{onPageChange:$,totalPage:u,jobPerPage:h})]}),d&&e.jsx(J,{toggleModal:A,showDeleteModal:d,text:"Are you sure you want to delete this staff member?",handleConfirmDelete:w})]})},q=Y;function G(){const o=v(),t=()=>{o("/job-recruiter/staff/add-edit-staff")};return e.jsx(e.Fragment,{children:e.jsx(F,{header:"Staff",subTitle:"Connecting Opportunities: Your Ultimate Jobs Hub ",showSearchBar:!1,children:e.jsx("div",{className:"business-dashboard",children:e.jsx("div",{className:"dashboard-main-panel",children:e.jsx("div",{className:"dashboard-panel-content",children:e.jsxs("div",{className:"top_left font-weight-bold",children:[e.jsx("div",{className:"col-12 text-center",children:e.jsx("div",{className:"fieldset d-flex justify-content-start",onClick:t,children:e.jsx("span",{className:"btn-design cursor-pointer",children:"+ Add New Staff"})})}),e.jsx(q,{})]})})})})})})}export{G as default};
