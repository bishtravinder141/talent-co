import{a8 as g,j as e,ax as o,aK as y,u as E,P as C,at as D,Z as A,aL as M}from"./index-f542c721.js";import{I as c,a}from"./constant-145911d4.js";const O=({filter:l,onFilterChange:h,date:n,setDate:i,onDateChange:x,seekerPage:_})=>{let m=["All",...g(t=>{var r;return(r=t==null?void 0:t.masterAPIData)==null?void 0:r.jobTitles})];m=[...new Set(m)];const b=()=>{i(t=>({startDate:t.endDate,endDate:o(t.endDate).add(1,l.timePeriod).format("YYYY-MM-DD")})),x()},p=()=>{i(t=>({startDate:o(t.startDate).subtract(1,l.timePeriod).format("YYYY-MM-DD"),endDate:t.startDate})),x()},Y=(t,r)=>{if(t==="timePeriod"){const j=o().format("YYYY-MM-DD");i({startDate:j,endDate:o(j).add(1,r).format("YYYY-MM-DD")})}h(t,r)};return e.jsx("div",{className:"interviewstable-topbar",children:e.jsxs("div",{className:"row align-items-center",children:[e.jsx("div",{className:"col-md-7 col-12",children:e.jsx("div",{className:"inteviewTableDateFilter",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsxs("p",{children:[e.jsxs("strong",{children:[o(n.startDate,"YYYY-MM-DD").format("MMMM D, YYYY")," ","-"," ",o(n.endDate,"YYYY-MM-DD").format("MMMM D, YYYY")]}),e.jsx("button",{className:"border-0 rounded",style:{marginLeft:"7px",width:"30px"},onClick:p,children:e.jsx("i",{className:"fa-solid fa-caret-left"})}),e.jsx("button",{className:"border-0 rounded",style:{marginLeft:"7px",width:"30px"},onClick:b,children:e.jsx("i",{className:"fa-solid fa-caret-right"})})]})}),e.jsx("li",{children:e.jsxs("select",{className:"form-control no-border",value:l.timePeriod,onChange:t=>Y("timePeriod",t.target.value),children:[e.jsx("option",{value:"week",children:"Week"}),e.jsx("option",{value:"month",children:"Month"}),e.jsx("option",{value:"year",children:"Year"})]})})]})})}),!_&&e.jsx("div",{className:"col-md-5 col-12",children:e.jsx("div",{className:"sortfilter",children:e.jsx(y,{option:m,handleOnChange:t=>{h("position",t)}})})})]})})},H=({seekerPage:l=!1,loader:h,interviewList:n,filter:i,onFilterChange:x,date:_,setDate:m,onDateChange:b,toggleModal:p,setRatingModalData:Y,setShowApplicationModal:t,setSelectedUserIndex:r,createChatRoom:j,handleCompleteInterview:f,checkTest:S})=>{const I=E(),N=(s,d,u)=>{s===a.rate?(Y(d),p(u)):s===a.goToTalent?I("/job-recruiter/application"):s===a.reschedule?(r(u),t({show:!0,modalName:M.INTERVIEW_SCHEDULE_MODAL,modalTitle:"Schedule Interview",id:d.application_id})):s===a.cancel?t({show:!0,modalName:M.DECLINED_MODAL,modalTitle:"Declined Talent",id:d.id}):s===a.complete?f(d.id):j(d.job)},T=(s,d)=>{const u=`${s.split("T")[0]}T${d}`;return D().isAfter(u)};return e.jsx("div",{className:`${l?"reduce-navbar":""}`,children:e.jsxs("div",{className:"interviewsList-sec",children:[e.jsx(O,{filter:i,onFilterChange:x,date:_,setDate:m,onDateChange:b,seekerPage:l}),h&&e.jsx(C,{}),e.jsx("div",{className:"global-table table-responsive",children:e.jsxs("table",{className:"table align-middle",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Time & Date"}),e.jsx("th",{children:l?"Company":"Name"}),e.jsx("th",{style:{width:"35%",minWidth:"200px"},children:"Job"}),e.jsx("th",{children:"Status"}),e.jsx("th",{className:"text-center",children:"Actions"})]})}),e.jsx("tbody",{children:(n==null?void 0:n.length)>0?n.map((s,d)=>e.jsxs("tr",{children:[e.jsxs("td",{children:[e.jsxs("p",{children:[D(s.start_time,"HH:mm:ss").format("h a")," ","- ",D(s.end_time,"HH:mm:ss").format("h a")]}),e.jsx("p",{children:D(s.day_and_date).format("D MMMM YYYY")})]}),e.jsx("td",{children:l?s.company_name:s.name}),e.jsx("td",{children:s.job_title}),e.jsx("td",{children:s.interview_status}),e.jsx("td",{className:"text-end",children:e.jsxs("div",{className:"action-flex",children:[!l&&(s.interview_status!==c.completed||!s.rated_by_recruiter)&&e.jsx("button",{type:"button",className:"btn-design btn-small border-btn",disabled:l,onClick:()=>N(s.interview_status===c.completed?a.goToTalent:a.reschedule,s,d),children:s.interview_status===c.completed?a.goToTalent:a.reschedule}),s.interview_status!==c.cancelled&&e.jsx("button",{type:"button",className:"btn-design btn-small",onClick:()=>N(l?"Message":s.interview_status===c.completed?s.rated_by_recruiter?a.goToTalent:a.rate:(s.interview_status===c.upcoming||s.interview_status===c.reschedule)&&T(s.day_and_date,s.end_time)?a.complete:a.cancel,s,d),children:l?"Message":s.interview_status===c.completed?s.rated_by_recruiter?a.goToTalent:a.rate:(s.interview_status===c.upcoming||s.interview_status===c.reschedule)&&T(s.day_and_date,s.end_time)?a.complete:a.cancel})]})})]},d)):e.jsx(A,{})})]})})]})})};export{H as I};
