import{r as i,j as e,P as ge,E as S,bF as be,I as D,a0 as U,bG as fe,u as Ne,c as ye,C as he,L as me,bH as we,bB as xe,bI as _e,bJ as pe,bK as je,Y as ve}from"./index-f542c721.js";import{m as Se,n as ke,o as Ce}from"./candidateJobs-9f40d583.js";import{o as Ee}from"./yup-f45bf39b.js";import{c as Te,a as ue}from"./index.esm-822dde25.js";import{S as Pe}from"./SubmitButton-265ed07f.js";import{D as Me}from"./DeleteAccountModal-6faddca3.js";import{N as De}from"./NotificationTab-be0b33a6.js";const A=[{Tab_Name:"Job Alert Preferences",id:"jobalert"},{Tab_Name:"Notification Settings",id:"notifications"},{Tab_Name:"Account Settings",id:"account-setting"}],Ie=["Part-Time","Full-Time","Intern","Voluntary","Contract/Temp","Casual/Vacation"],Je=["On-site","Hybrid","Remote"],Le=["entry level","intermediate","expert","senior expert"],F="You must add at least one",Re="Please Add A Valid Integer ",We=()=>{var R,z,Z,K,G,X,Q,ee;const[_,x]=i.useState(!1),[h,p]=i.useState(!1),[N,m]=i.useState(!1),[T,B]=i.useState({show:!1,data:{}}),[q,y]=i.useState(!1),[H,w]=i.useState(!1),[a,k]=i.useState({monthly_salary_range:null,annual_salary_range:null,job_alert_locations:[{location:""}],job_alert_titles:[{title:""}],job_type:[],employment_options:[],experience:[],job_alert_skills:[]}),[c,C]=i.useState([{title:""}]),[r,v]=i.useState([{location:""}]),[n,I]=i.useState({currency:"",amount:null,type:""});i.useEffect(()=>{x(!0),Se().then(s=>{var t,l,d,b,E,W,f,M,se,ae,te,le,ne,oe,ie,de,ce,re;x(!1),k(s.data.data),((d=(l=(t=s==null?void 0:s.data)==null?void 0:t.data)==null?void 0:l.job_alert_titles)==null?void 0:d.length)>0&&C([...(E=(b=s==null?void 0:s.data)==null?void 0:b.data)==null?void 0:E.job_alert_titles]),((M=(f=(W=s==null?void 0:s.data)==null?void 0:W.data)==null?void 0:f.job_alert_locations)==null?void 0:M.length)>0&&v([...(ae=(se=s==null?void 0:s.data)==null?void 0:se.data)==null?void 0:ae.job_alert_locations]),(le=(te=s==null?void 0:s.data)==null?void 0:te.data)!=null&&le.annual_salary_range?I({...n,amount:(oe=(ne=s==null?void 0:s.data)==null?void 0:ne.data)==null?void 0:oe.annual_salary_range,type:"Annual"}):(de=(ie=s==null?void 0:s.data)==null?void 0:ie.data)!=null&&de.monthly_salary_range&&I({...n,amount:(re=(ce=s==null?void 0:s.data)==null?void 0:ce.data)==null?void 0:re.monthly_salary_range,type:"Monthly"})}).catch(s=>console.log(s))},[]);const V=()=>{c.findIndex(t=>t.title==="")>=0?y(!0):(C([...c,{title:""}]),y(!1))},Y=(s,t)=>{const l=[...c];l[s].title=t.target.value,C([...l]),l.findIndex(b=>b.title==="")<0&&y(!1)},O=s=>{const t=[...c];t.splice(s,1),C([...t])},o=()=>{r.findIndex(t=>t.location==="")>=0?w(!0):(v([...r,{location:""}]),w(!1))},u=(s,t)=>{const l=[...r];l[s].location=t,v([...l]),l.findIndex(b=>b.location==="")<0&&w(!1)},j=s=>{const t=[...r];t.splice(s,1),v([...t])},g=(s,t,l)=>{if(s.target.checked)k({...a,[l]:[...a[l],t]});else{const d=[...a[l]],b=d.findIndex(E=>E===t);d.splice(b,1),k({...a,[l]:[...d]})}},P=(s,t)=>{I({...n,[t]:s.target.value})},$=()=>{var l,d,b,E,W;const s=JSON.parse(JSON.stringify(a));let t=!1;if(((l=c[0])==null?void 0:l.title)!==""||(c==null?void 0:c.length)>1){const f=c.filter(M=>M.title!=="");s.job_alert_titles=[...f],C(f)}else p(!0),t=!0;if(((d=r[0])==null?void 0:d.location)!==""||(r==null?void 0:r.length)>1){const f=r.filter(M=>M.location!=="");s.job_alert_locations=[...f],v(f),s.job_alert_location=[...r]}else p(!0),t=!0;(n==null?void 0:n.amount)!==""?(n==null?void 0:n.type)===""||(n==null?void 0:n.type)==="Annual"?(s.annual_salary_range=n.amount,s.monthly_salary_range=null):(n==null?void 0:n.type)==="Monthly"&&(s.monthly_salary_range=n.amount,s.annual_salary_range=null):(p(!0),t=!0),((b=a==null?void 0:a.job_type)==null?void 0:b.length)>0?s.job_type=[...a==null?void 0:a.job_type]:(p(!0),t=!0),((E=a==null?void 0:a.experience)==null?void 0:E.length)>0?s.experience=[...a==null?void 0:a.experience]:(p(!0),t=!0),((W=a==null?void 0:a.employment_options)==null?void 0:W.length)>0?s.employment_options=[...a==null?void 0:a.employment_options]:(p(!0),t=!0),t||(x(!0),ke(s).then(f=>{D(fe,U),y(!1),w(!1),x(!1)}).catch(f=>{console.log(f),x(!1)}))},J=()=>{m(!N),B({show:!1,data:{}})},L=(s,t)=>{B({show:!0,data:s,index:t}),m(!0)};return e.jsxs(e.Fragment,{children:[_&&e.jsx(ge,{}),e.jsx("div",{className:"tab-pane fade show active",id:"jobalert",role:"tabpanel","aria-labelledby":"jobalert-tab",children:e.jsxs("div",{className:"jobAlertPreference border",children:[e.jsxs("div",{className:"alerts-pref  border-bottom",children:[e.jsx("h5",{children:"Job Alert Preference"}),e.jsx("p",{children:"Here you can update the info used to determine the job in your daily job alerts emails and notifications"})]}),e.jsx("div",{className:"form-field-max-width",children:e.jsxs("div",{className:"jobsTabs-col mt-2 pt-3",children:[e.jsx("h5",{children:"Job Title"}),e.jsxs("div",{className:"border pg-20 mb-3",children:[e.jsxs("div",{className:"fieldset checkbox-set",children:[e.jsx("input",{type:"checkbox",name:"",className:"w-25"}),e.jsx("span",{children:e.jsx("strong",{children:"Based on my activity"})})]}),e.jsx("p",{children:"Your apply, click and search activity will determine your matches in alerts."})]}),e.jsxs("div",{className:"border pg-20 mb-4",children:[e.jsxs("div",{className:"fieldset checkbox-set",children:[e.jsx("input",{type:"checkbox",name:"",className:"w-25"}),e.jsx("span",{children:e.jsx("strong",{children:"Based on job titles I selected"})}),e.jsx("p",{children:"Well only use the job titles you enter to determine your matches in alerts."})]}),e.jsxs("div",{className:"fieldset add-atleast-one",children:[e.jsx("label",{children:"Note: You must add at least one"}),c==null?void 0:c.map((s,t,l)=>e.jsxs(i.Fragment,{children:[e.jsx("input",{type:"text",name:"",placeholder:"Add a Job title",className:"form-control",value:s==null?void 0:s.title,onChange:d=>{Y(t,d)}}),l.length===1?e.jsx("button",{className:"btn-design notAllowed",disabled:!0,children:"Remove"}):e.jsx("button",{className:"btn-design",onClick:()=>{O(t)},children:"Remove"})]},t)),h&&((R=c[0])==null?void 0:R.title)===""&&e.jsx(S,{msg:F}),e.jsx("div",{className:"col-12 px-0 form-field",children:e.jsxs("button",{className:"btn-design",onClick:V,children:[e.jsx("img",{src:"../assets/images/plus-icon.svg"})," Add another Title"]})})]})]}),e.jsx("h5",{children:"Location"}),e.jsx("div",{className:"border pg-20 mb-3",children:e.jsxs("div",{className:"fieldset checkbox-set",children:[e.jsx("input",{type:"checkbox",name:"",className:"w-25"}),e.jsx("span",{children:e.jsx("strong",{children:"Based on my activity"})}),e.jsx("p",{children:"Your apply, click and search activity will determine the location of your matches in alerts."})]})}),e.jsxs("div",{className:"border pg-20 mb-4",children:[e.jsxs("div",{className:"fieldset checkbox-set",children:[e.jsx("input",{type:"checkbox",name:"",className:"w-25"}),e.jsx("span",{children:e.jsx("strong",{children:"Based on job titles I selected"})}),e.jsx("p",{children:"Well only use the job titles you enter to determine your matches in alerts."})]}),e.jsxs("div",{className:"fieldset add-atleast-one",children:[e.jsx("label",{children:"Note: You must add at least one"}),e.jsxs("div",{className:"row",children:[r==null?void 0:r.map((s,t,l)=>e.jsxs(i.Fragment,{children:[e.jsx("div",{className:"col-md-6 col-12 fullwidth ",children:e.jsx("input",{type:"text",name:"",placeholder:"Add a ZIP or City",className:"form-control",value:s==null?void 0:s.location,onChange:d=>{u(t,d.target.value)}})}),e.jsxs("div",{className:"col-md-6 col-12",children:[e.jsxs("select",{className:"form-control currency-field",children:[e.jsx("option",{children:"Within 20 miles"}),e.jsx("option",{children:"Within 30 miles"}),e.jsx("option",{children:"Within 40 miles"}),e.jsx("option",{children:"Within 50 miles"}),e.jsx("option",{children:"Within 60 miles"})]}),l.length===1?e.jsx("button",{type:"button",className:"btn-design notAllowed",disabled:!0,children:"Remove"}):e.jsx("button",{type:"button",className:"btn-design",onClick:()=>{j(t)},children:"Remove"})]})]},t)),h&&((z=r[0])==null?void 0:z.location)===""&&e.jsx(S,{msg:F})]}),e.jsx("div",{className:"col-12 px-0 form-field",children:e.jsxs("button",{className:"btn-design",onClick:o,children:[e.jsx("img",{src:"../assets/images/plus-icon.svg"})," Add another Location"]})})]})]}),e.jsxs("div",{className:"desire-salary mb-4",children:[e.jsx("h5",{children:"Salary"}),e.jsx("p",{children:"We’ll try to prioritize jobs that meets your pay preferences. This info is not shared with employers and is only used to improve your job matches."}),e.jsxs("div",{className:".fieldset.flex-inner d-flex",children:[e.jsxs("select",{className:"form-control currency-field me-2",onChange:s=>{P(s,"currency")},children:[e.jsx("option",{children:"Dollars ($)"}),e.jsx("option",{children:"Euro (€)"}),e.jsx("option",{children:"Pound (£)"}),e.jsx("option",{children:"Rupee (₹)"})]}),e.jsx("input",{type:"number",placeholder:"Enter amount",className:"form-control amount-field me-2 ",onChange:s=>{P(s,"amount")},value:n==null?void 0:n.amount}),e.jsxs("select",{value:n==null?void 0:n.type,className:"form-control years-field",onChange:s=>{P(s,"type")},children:[e.jsx("option",{children:"Annual"}),e.jsx("option",{children:"Monthly"})]})]}),h&&(n==null?void 0:n.amount)===""&&e.jsx("span",{className:"text-center",children:e.jsx(S,{msg:Re})})]}),e.jsxs("div",{className:"jobType mb-4",children:[e.jsx("h5",{children:"Job Type"}),e.jsx("div",{className:"row",children:Ie.map((s,t)=>{var l;return e.jsx(i.Fragment,{children:e.jsx("div",{className:"col-md-6 col-12",children:e.jsxs("div",{className:"fieldset checkbox-set",children:[e.jsx("input",{type:"checkbox",checked:(l=a==null?void 0:a.job_type)==null?void 0:l.includes(s),name:"",onChange:d=>{g(d,s,"job_type")}}),e.jsx("span",{children:s.toUpperCase()})]})})},t)})}),h&&((Z=a==null?void 0:a.job_type)==null?void 0:Z.length)===0&&e.jsx(S,{msg:F})]}),e.jsxs("div",{className:"jobType  mb-4",children:[e.jsx("h5",{children:"On-site/remote"}),e.jsx("div",{className:"row",children:Je.map((s,t)=>{var l;return e.jsx(i.Fragment,{children:e.jsx("div",{className:"col-md-6 col-12",children:e.jsxs("div",{className:"fieldset checkbox-set",children:[e.jsx("input",{type:"checkbox",checked:(l=a==null?void 0:a.employment_options)==null?void 0:l.includes(s),name:"",onChange:d=>{g(d,s,"employment_options")}}),e.jsx("span",{children:s.toUpperCase()})]})})},t)})}),h&&((K=a==null?void 0:a.employment_options)==null?void 0:K.length)===0&&e.jsx(S,{msg:F})]}),e.jsxs("div",{className:"jobType  mb-4",children:[e.jsx("h5",{children:"Experience Level"}),e.jsx("div",{className:"row",children:Le.map((s,t)=>{var l;return e.jsx(i.Fragment,{children:e.jsx("div",{className:"col-md-6 col-12",children:e.jsxs("div",{className:"fieldset checkbox-set",children:[e.jsx("input",{type:"checkbox",name:"",checked:(l=a==null?void 0:a.experience)==null?void 0:l.includes(s),onChange:d=>{g(d,s,"experience")}}),e.jsx("span",{children:s.toUpperCase()})]})})},t)})}),h&&((G=a==null?void 0:a.experience)==null?void 0:G.length)===0&&e.jsx(S,{msg:F})]})]})}),e.jsx("div",{className:"form-field shadow-box",children:e.jsxs("div",{className:"row",children:[e.jsx("h5",{children:"Skills"}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"fieldset",children:[e.jsxs("div",{className:"border-popup-btn",children:[e.jsxs("p",{children:[e.jsx("img",{src:"/assets/images/plus-icon.svg"})," Add Your Skills"]}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:J,children:"Add Your Skills"})]}),((X=a==null?void 0:a.job_alert_skills)==null?void 0:X.length)>0&&e.jsx("div",{className:"global-table table-responsive mt-4",children:e.jsxs("table",{className:"table align-middle",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Skill Name"}),e.jsx("th",{style:{width:"35%",minWidth:"200px"},children:"Description"}),e.jsx("th",{children:"Level"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:a==null?void 0:a.job_alert_skills.map((s,t)=>e.jsxs("tr",{children:[e.jsx("td",{className:"strong",children:s.skill_name}),e.jsx("td",{children:s.description}),e.jsx("td",{className:"skill-label",children:e.jsx("span",{children:s.level})}),e.jsx("td",{children:e.jsxs("button",{type:"button",onClick:()=>L(s,t),children:[e.jsx("img",{src:"/assets/images/edit-icon.svg"})," "]})})]},t))})]})}),((Q=a==null?void 0:a.skills)==null?void 0:Q.length)>0&&e.jsx("div",{className:"global-table table-responsive mt-4",children:e.jsxs("table",{className:"table align-middle",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{children:"Skill Name"}),e.jsx("th",{style:{width:"35%",minWidth:"200px"},children:"Description"}),e.jsx("th",{children:"Level"}),e.jsx("th",{children:"Actions"})]})}),e.jsx("tbody",{children:(ee=a==null?void 0:a.skills)==null?void 0:ee.map((s,t)=>e.jsxs("tr",{children:[e.jsx("td",{className:"strong",children:s.skill_name}),e.jsx("td",{children:s.description}),e.jsx("td",{className:"skill-label",children:e.jsx("span",{children:s.level})}),e.jsx("td",{children:e.jsxs("button",{type:"button",onClick:()=>L(s,t),children:[e.jsx("img",{src:"/assets/images/edit-icon.svg"})," "]})})]},t))})]})})]})})]})}),e.jsx("div",{className:"col-12 text-center py-4",children:e.jsx("button",{type:"button",className:"btn-design",onClick:$,children:"Save & Update"})})]})}),N&&e.jsx(be,{toggleModal:J,showModal:N,setProfileDetails:k,profileDetails:a,edit:T.show,editModalData:T.data,index:T.index,preference:!0})]})},Ae=()=>{var Y,O;const _=Ne(),[x,h]=i.useState(!1),[p,N]=i.useState(!1),[m,T]=i.useState({old_password:!1,new_password:!1}),B=Te().shape({old_password:ue().required("This field are required"),new_password:ue().required("This field are required").min(6,"Password must be at least 6 digits long.").matches(/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[^A-Za-z0-9]).{6,}$/g,"Password must contain at least one uppercase letter, one lowercase letter, one digit, and one special character")}),[q,y]=i.useState(!1),{handleSubmit:H,watch:w,control:a,setValue:k,formState:{errors:c}}=ye({resolver:Ee(B)}),C=o=>{const u={...o,confirm_password:o==null?void 0:o.new_password};q||(h(!0),we(u).then(j=>{var g;h(!1),D((g=j==null?void 0:j.data)==null?void 0:g.message,U),k("new_password",""),k("old_password","")}).catch(j=>{var g,P,$,J,L,R;($=(P=(g=j==null?void 0:j.response)==null?void 0:g.data)==null?void 0:P.message)!=null&&$.old_password[0]?D((R=(L=(J=j==null?void 0:j.response)==null?void 0:J.data)==null?void 0:L.message)==null?void 0:R.old_password[0]):D(xe),h(!1)}))},r=o=>{m[o]?T({...m,[o]:!1}):T({...m,[o]:!0})},v=(o,u)=>{const j=w("old_password"),g=w("new_password");w("old_password")&&w("new_password")&&(o==="old_password"?y(u===g):o==="new_password"&&y(u===j))},n=()=>{N(!p)},I=()=>{Ce().then(o=>{D(_e,U),localStorage.clear(),pe(je).purge(),_("/")}).catch(o=>{console.log(o),D(xe),n()})},V=()=>{localStorage.clear(),pe(je).purge()};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"",id:"account-setting",role:"tabpanel","aria-labelledby":"account-setting-tab",children:e.jsxs("div",{className:"accountSettins border  pg-20",children:[e.jsxs("div",{className:"alerts-pref  border-bottom",children:[e.jsx("h5",{children:"Account Settings"}),e.jsx("p",{children:"Here you can update the info used to determine the job in your daily job alerts emails and notifications"})]}),e.jsxs("div",{className:"form-field-max-width mt-4",children:[e.jsx("div",{className:"PassWord border-bottom pb-4",children:e.jsxs("div",{className:"PasswordINfo",children:[e.jsx("h5",{children:"Password"}),e.jsx("form",{onSubmit:H(C),children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-md-6 col-12",children:e.jsxs("div",{className:"fieldset",children:[e.jsx(he,{name:"old_password",control:a,defaultValue:"",render:({field:o})=>e.jsx("div",{children:e.jsx("input",{...o,onChange:u=>{v("old_password",u.target.value),o.onChange(u)},type:m.old_password?"text":"password",name:"old_password",placeholder:"Old password",className:"password form-control input-icon",id:"field_password_confirm","aria-errormessage":"error-message-old-pasword"})})}),e.jsx("i",{className:`far icon-position ${m!=null&&m.old_password?"fa-eye fa-eye-slash":"fa-eye-slash"}`,style:{cursor:"pointer"},onClick:()=>{r("old_password")}}),e.jsx("span",{className:"input-field-icon",children:e.jsx("img",{src:"../assets/images/password-icon.svg"})})]})}),e.jsx("div",{className:"col-md-6 col-12",children:e.jsxs("div",{className:"fieldset",children:[e.jsx(he,{name:"new_password",control:a,defaultValue:"",render:({field:o})=>e.jsx("div",{children:e.jsx("input",{...o,onChange:u=>{v("new_password",u.target.value),o.onChange(u)},type:m.new_password?"text":"password",name:"new_password",placeholder:"New password",className:"password form-control input-icon",id:"field_password_confirm","aria-errormessage":"error-message-new-pasword"})})}),e.jsx("i",{className:`far icon-position ${m!=null&&m.new_password?"fa-eye fa-eye-slash":"fa-eye-slash"}`,style:{cursor:"pointer"},onClick:()=>{r("new_password")}}),e.jsx("span",{className:"input-field-icon",children:e.jsx("img",{src:"../assets/images/password-icon.svg"})})]})}),q&&e.jsx(S,{msg:"Old password and new password cannot be same"}),((O=(Y=c==null?void 0:c.old_password)==null?void 0:Y.message)==null?void 0:O.length)>0&&e.jsx(S,{id:"error-message-new-pasword",msg:c.old_password.message}),e.jsxs("div",{className:"col-12",children:[e.jsxs("p",{children:["Can’t remember your current password?"," ",e.jsx(me,{to:"/forgot-password",onClick:V,children:"Reset your password"})]}),e.jsx(Pe,{contentText:"Save Password",loader:x,disabled:x})]})]})})]})}),e.jsxs("div",{className:"deleteAccount mt-3",children:[e.jsx("h5",{children:"Delete Account"}),e.jsx("p",{children:"Would you like to delete your account?"}),e.jsx("p",{children:"Deleting your account will remove all the content associated with it."}),e.jsx(me,{onClick:n,children:"I want to delete my account"})]})]})]})}),p&&e.jsx(Me,{toggleModal:n,showDeleteModal:p,handleConfirmDelete:I})]})},Fe=({contentText:_,callback:x,id:h,selecteTab:p})=>e.jsx("button",{className:`nav-link ${p===_?"active":""}`,"data-bs-toggle":"tab",type:"button",role:"tab","aria-selected":"false",onClick:x,children:_}),He=()=>{const[_,x]=i.useState(!1),[h,p]=i.useState(A[0].Tab_Name);return e.jsx(ve,{header:"Settings",subTitle:"Vivamus facilisis arcu quis sapien venenatis, a feugiat urna tristique. Sed gravida non mauris at.",showSearchBar:!1,children:e.jsx("div",{className:"reduce-navbar",children:e.jsxs("div",{className:"jobalert_setting",children:[_&&e.jsx(ge,{}),e.jsxs("div",{className:"dashboard-application",children:[e.jsx("ul",{className:"nav nav-tabs",id:"myTab",role:"tablist",children:A.map((N,m)=>e.jsx("li",{className:"nav-item",role:"presentation",children:e.jsx(Fe,{contentText:N.Tab_Name,id:N.id,selecteTab:h,callback:()=>p(N.Tab_Name)})},m))}),e.jsxs("div",{className:"tab-content",id:"myTabContent",children:[h===A[0].Tab_Name&&e.jsx(We,{setLoader:x}),h===A[1].Tab_Name&&e.jsx("div",{className:"notifications-setting border pg-20",children:e.jsx(De,{setLoader:x})}),h===A[2].Tab_Name&&e.jsx(Ae,{setLoader:x})]})]})]})})})};export{He as default};
