import{r as t,u as Y,b as H,D as Q,a8 as K,c as Z,a9 as D,aa as ee,ab as se,ac as ae,ad as ne,ae as le,j as e,af as ie,P as te,ag as ce,ah as re,ai as oe,aj as k,N as L,ak as A,al as w,am as de,an as me,Q as E,ao as he,ap as ue,aq as xe}from"./index-f542c721.js";import{D as P}from"./DropDownWithSearch-c72190d4.js";import"./index-27ed1d6c.js";const Ne=()=>{var b,_;const[R,u]=t.useState(!0),[a,o]=t.useState({}),[d,M]=t.useState([]),[I,$]=t.useState([]),[pe,T]=t.useState([]),[ge,U]=t.useState([]);t.useState([]),t.useState([]),t.useState([]);const[m,z]=t.useState({logo:"",banner_img:""}),[c,B]=t.useState({logo:null,banner_img:null}),[g,F]=t.useState(!1),f=()=>{F(!g)},j=Y(),G=H(),{pathname:V}=Q();K(s=>s.auth),Z(),t.useEffect(()=>{O()},[]);const O=()=>{u(!0),D().then(s=>{var h,x,C,S,y;const l=s.data.data;G(ee(s.data.data.id));let n=[],i=[];((h=l==null?void 0:l.markets)==null?void 0:h.length)>0&&(n=l.markets.map(p=>({value:p.id,label:p.name}))),((x=l==null?void 0:l.sectors)==null?void 0:x.length)>0&&(i=l.sectors.map(p=>({value:p.id,label:p.name}))),o({...(C=s==null?void 0:s.data)==null?void 0:C.data,phone_number:(y=(S=s==null?void 0:s.data)==null?void 0:S.data)==null?void 0:y.phone_number.replace(/[^0-9]/g,""),markets:n,sectors:i})}).catch(s=>{console.log(s)}).finally(()=>{u(!1)})};t.useEffect(()=>{W()},[]);const W=()=>{se().then(s=>{const n=s.data.data.map(i=>({value:i.id,label:i.name}));M(n)}).catch(s=>{console.log(s)}),ae().then(s=>{const n=s.data.data.map(i=>({value:i.id,label:i.name}));$(n)}).catch(s=>{console.log(s)}),ne().then(s=>{const n=s.data.data.map(i=>({value:i.id,label:i.country_name}));U(n)}).catch(s=>{console.log(s)}),le().then(s=>{const l=s.data.data.map(n=>`${n.currency_name} (${n.currency_symbol})`);T([...l])}).catch(s=>{console.error("getSalaryCurrency",s.message)}).finally(()=>{u(!1)})},r=s=>{let l=s.target.value;s.target.name==="phone_number"&&(l=l.replace(/[^0-9]/g,"")),o({...a,[s.target.name]:l})},v=s=>{const l=s.target.files[0];if(!l.name.match(/\.(jpg|jpeg|png)$/))E.error("Please upload vaild format image(jpg,jpeg,png)");else{if(l){const n=new FileReader;n.onload=i=>{B({...c,[s.target.name]:i.target.result})},n.readAsDataURL(l)}z({...m,[s.target.name]:s.target.files[0]})}},N=(s,l)=>{o(l==="location"?{...a,[l]:[s]}:{...a,[l]:[...s]})},q=()=>{var s,l;if(he()){u(!0);let n={...a};((s=n==null?void 0:n.sectors)==null?void 0:s.length)>0&&(n.sectors=n.sectors.map(i=>i.value)),((l=n==null?void 0:n.markets)==null?void 0:l.length)>0&&(n.markets=n.markets.map(i=>i.value)),n==null||delete n.user,n==null||delete n.logo,n==null||delete n.banner_img,n={...n,phone_number:`+${n.phone_number}`},ue(n).then(i=>{if(m.banner_img||m.logo){const h=new FormData;m.banner_img&&h.append("banner_img",m.banner_img),m.logo&&h.append("logo",m.logo),xe(h).then(x=>{j("/view-company-profile")}).catch(x=>{console.log(x,"error"),E.error("Something wrong in image upload")})}else j("/view-company-profile")}).catch(i=>{console.log(i,"error")}).finally(()=>{u(!1)})}else f()},J=s=>{s&&o({...a,location:s.location,longitude:s.long,latitude:s.lat})},X=s=>{o({...a,location:null,longitude:null,latitude:null})};return e.jsxs(e.Fragment,{children:[e.jsxs(ie,{header:"Profile",subTitle:"Vivamus facilisis arcu quis sapien venenatis, a feugiat urna tristique. Sed gravida non mauris at ",showSearchBar:!1,profilePercentage:a==null?void 0:a.profile_percentage,children:[R&&e.jsx(te,{}),e.jsxs("section",{className:`${V==="/job-recruiter/complete-company-profile"?"dashboard-main-panel":"complete-profile-sec py-60"}`,children:[e.jsx(ce,{role:re.recruiter,profileDetails:a}),e.jsx("div",{className:"profile-form",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsxs("form",{children:[e.jsx("div",{className:"fieldset-heading",children:e.jsx("h6",{children:"Contact Information"})}),e.jsx("div",{className:"form-field shadow-box",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"fieldset",children:[e.jsx("input",{type:"text",name:"company_name",placeholder:"Company Name",className:"form-control input-icon company-field",value:a==null?void 0:a.company_name,onChange:s=>r(s)}),e.jsx("span",{className:"input-field-icon",children:e.jsx("img",{src:"/assets/images/company.svg",alt:"Company"})})]})}),e.jsx("div",{className:"col-md-6 col-12",children:e.jsxs("div",{className:"fieldset",children:[e.jsx("input",{type:"text",placeholder:"Your Email",name:"email",className:"form-control input-icon email-field",value:a==null?void 0:a.email,onChange:s=>r(s)}),e.jsx("span",{className:"input-field-icon",children:e.jsx("img",{src:"/assets/images/email.svg",alt:"Email"})})]})}),e.jsx("div",{className:"col-md-6 col-12",children:e.jsxs("div",{className:"fieldset",children:[e.jsx("input",{type:"text",placeholder:"Phone Number",className:"form-control input-icon phone-field",name:"phone_number",value:a==null?void 0:a.phone_number,onChange:s=>r(s)}),e.jsx("span",{className:"input-field-icon",children:e.jsx("img",{src:"/assets/images/phone-icon.svg"})})]})}),e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"border-top pt-4 mt-4",children:e.jsx("label",{children:"Add links"})})}),e.jsx("div",{className:"col-md-6 col-12",children:e.jsxs("div",{className:"fieldset",children:[e.jsx("input",{type:"text",placeholder:"Add Website Link",className:"form-control input-icon website-field",name:"website_link",value:a==null?void 0:a.website_link,onChange:s=>r(s)}),e.jsx("span",{className:"input-field-icon",children:e.jsx("img",{src:"/assets/images/website-icon.svg"})})]})}),e.jsx("div",{className:"col-md-6 col-12",children:e.jsxs("div",{className:"fieldset",children:[e.jsx("input",{type:"text",placeholder:"Add LinkedIn Link",className:"form-control input-icon linkedin-field",name:"linkedin_link",value:a==null?void 0:a.linkedin_link,onChange:s=>r(s)}),e.jsx("span",{className:"input-field-icon",children:e.jsx("img",{src:"/assets/images/linkedin-icon.svg"})})]})})]})}),e.jsxs("div",{className:"fieldset-heading",children:[e.jsx("h6",{children:"Company Specification"}),e.jsx("p",{children:"Add information about company specification"})]}),e.jsx("div",{className:"form-field shadow-box",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-12 pb-3",children:[e.jsx("label",{children:"Location"}),e.jsxs("div",{className:"fieldset",children:[e.jsx(oe,{afterSelectLocation:J}),e.jsx("ul",{className:"multi-select-list",style:{marginTop:"10px"},children:a.location&&e.jsxs("li",{children:[a.location,e.jsx("button",{type:"button",onClick:()=>X(),children:e.jsx("img",{src:"/assets/images/close-icon.svg"})})]})})]})]}),e.jsxs("div",{className:"col-12 pb-3",children:[e.jsx("label",{children:"Sectors"}),e.jsx("div",{className:"fieldset",children:e.jsx(P,{list:d,selectedValue:a==null?void 0:a.sectors,setSelectedValue:N,placeholder:"Search Sectors",icon:"/assets/images/search-icon.svg",field:"sectors"})})]}),e.jsxs("div",{className:"col-12 pb-3",children:[e.jsx("label",{children:"Markets"}),e.jsx("div",{className:"fieldset",children:e.jsx(P,{list:I,selectedValue:a==null?void 0:a.markets,setSelectedValue:N,placeholder:"Search Markets",icon:"/assets/images/search-icon.svg",field:"markets"})})]}),e.jsxs("div",{className:"col-12 pb-3",children:[e.jsx("label",{children:"Company Size"}),e.jsxs("div",{className:"fieldset",children:[e.jsxs("select",{className:"form-control input-icon company-field",name:"company_size",onChange:s=>r(s),value:a==null?void 0:a.company_size,children:[e.jsx("option",{disabled:!0,value:"",children:"Select a size"}),e.jsx("option",{value:"0-10",children:"0-10"}),e.jsx("option",{value:"11-20",children:"11-20"}),e.jsx("option",{value:"21-50",children:"21-50"}),e.jsx("option",{value:"51-100",children:"51-100"}),e.jsx("option",{value:"101-200",children:"101-200"}),e.jsx("option",{value:"201-500",children:"201-500"}),e.jsx("option",{value:"501-1000",children:"501-1000"})]}),e.jsx("span",{className:"input-field-icon",children:e.jsx("img",{src:"/assets/images/company.svg",alt:"Company"})})]})]}),e.jsxs("div",{className:"col-12",children:[e.jsx("label",{children:"Revenue"}),e.jsxs("div",{className:"fieldset flex-inner",children:[e.jsxs("select",{className:"form-control currency-field",name:"revenue_currency_name",onChange:s=>o({...a,revenue_currency_symbol:s.target.value,revenue_currency_name:k[0].label}),value:d==null?void 0:d.revenue_currency_name,children:[e.jsx("option",{hidden:!0,children:"Select the currency"}),k.map((s,l)=>e.jsx("option",{value:s.title,children:s.label},l))]}),e.jsx("input",{type:"text",placeholder:"Enter amount",className:"form-control amount-field",name:"revenue_amount",value:a==null?void 0:a.revenue_amount,onChange:s=>r(s)}),e.jsxs("select",{className:"form-control years-field",name:"revenue_tenure",onChange:s=>r(s),value:d==null?void 0:d.revenue_currency_name,children:[e.jsx("option",{value:"Annual",children:"Annual"}),e.jsx("option",{value:"Monthly",children:"Monthly"}),e.jsx("option",{value:"Weekly",children:"Weekly"})]})]})]})]})}),e.jsxs("div",{className:"fieldset-heading",children:[e.jsx("h6",{children:"Detail"}),e.jsx("p",{children:"Update company logo and company details here"})]}),e.jsx("div",{className:"form-field shadow-box",children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12 pb-3",children:e.jsx("div",{className:"fieldset",children:e.jsxs("div",{className:"expert_profile_image",children:[e.jsxs("div",{className:"profile_avtar",children:[e.jsx("div",{className:"upload_file_btn",children:e.jsx("input",{type:"file",name:"logo",onChange:s=>v(s)})}),e.jsx("img",{id:"companyLogo",src:`${c!=null&&c.logo?c==null?void 0:c.logo:a!=null&&a.logo?`${L}${a==null?void 0:a.logo}`:"/assets/images/img-placeholder.png"}`})]}),e.jsx("p",{children:"Add Company Logo"})]})})}),e.jsx("div",{className:"col-12 pb-3",children:e.jsx("div",{className:"fieldset",children:e.jsxs("div",{className:"company-profile-banner",children:[e.jsx("input",{type:"file",name:"banner_img",onChange:s=>v(s)}),e.jsxs("div",{className:"profile_banner",children:[e.jsx("div",{className:"upload_banner"}),e.jsx("img",{id:"frameBanner",src:`${c!=null&&c.banner_img?c==null?void 0:c.banner_img:a!=null&&a.banner_img?`${L}${a==null?void 0:a.banner_img}`:"/assets/images/img-placeholder.png"}`})]}),e.jsx("p",{children:"Please upload a Banner 8 MB maximum (JPEG format)"})]})})}),e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"fieldset",children:[e.jsx("textarea",{placeholder:"Add Company Summary",className:"form-control input-icon message-field",name:"summary",maxLength:A,value:a==null?void 0:a.summary,onChange:s=>r(s)}),e.jsx("span",{className:"characters-sets",children:e.jsx(w,{typedCharacters:(b=a==null?void 0:a.summary)==null?void 0:b.length})}),e.jsx("span",{className:"input-field-icon",children:e.jsx("img",{src:"/assets/images/message-icon.svg"})})]})})]})}),e.jsxs("div",{className:"fieldset-heading",children:[e.jsx("h6",{children:"Company Values and Culture"}),e.jsx("p",{children:"Describe the shared values, goals, attitudes and practices that characterize your company"})]}),e.jsx("div",{className:"form-field shadow-box",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"fieldset",children:[e.jsx("textarea",{placeholder:"Describe to job seekers a taste of what it’s like to work here",className:"form-control input-icon message-field",name:"values_and_culture",maxLength:A,value:a==null?void 0:a.values_and_culture,onChange:s=>r(s)}),e.jsx("span",{className:"characters-sets",children:e.jsx(w,{typedCharacters:(_=a==null?void 0:a.values_and_culture)==null?void 0:_.length})}),e.jsx("span",{className:"input-field-icon",children:e.jsx("img",{src:"/assets/images/message-icon.svg"})})]})})})}),e.jsx("div",{className:"form-field pt-5",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12 text-center",children:e.jsxs("div",{className:"fieldset d-flex justify-content-center",children:[e.jsx("button",{type:"button",className:"btn-design",onClick:q,children:"Save Changes"}),e.jsx("button",{type:"button",className:"btn-design border-btn",onClick:()=>j("/job-recruiter/dashboard"),children:"Do Later"})]})})})})]})})})})})]})]}),g&&e.jsx(de,{showModal:g,toggleModal:f,text:me})]})};export{Ne as default};
