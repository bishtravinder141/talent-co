import{A as I,ba as te,bb as le,bc as ae,bd as de,be as ce,bf as oe,bg as L,bh as me,bi as re,bj as pe,bk as ue,bl as he,a8 as B,r as k,j as e,C as _,E as C,c as _e,D as ge,aL as S,aP as je,bm as xe,bn as ve,Q as E,ax as N}from"./index-f542c721.js";import{S as be}from"./successModal-121b1d48.js";import{a as ye}from"./index.esm-822dde25.js";import{S as V}from"./SubmitButton-265ed07f.js";import{D as Ne}from"./DropDownWithSearch-c72190d4.js";const $e=[{title:"Recommended",type:"recommended"},{title:"Applied",type:"applied",count:21},{title:"Shortlisted",type:"shortlisted",count:21},{title:"Interviewed",type:"interviewed",count:21},{title:"Hired",type:"hired",count:21},{title:"Contract",type:"contract"}],Q={RECOMMENDED:"recommended",APPLIED:"applied",SHORTLISTED:"shortlisted",INTERVIEWED:"interviewed",HIRED:"hired",CONTRACT:"contract"},P={invitation:"sendInvitation",cancelled:"cancelled"},Re=[{value:"-applied_at",name:"Newest"},{value:"applied_at",name:"Oldest"}],ke=a=>I.get(`${te}?${a}`),qe=a=>I.get(`${le}${a}`),Pe=a=>I.get(`${ae}${a}`),Ve=a=>I.post(ce,a),Ce=a=>I.post(re,a),Be=(a=1,u)=>I.patch(`${oe}${a}`,u),Te=a=>I.post(L,a),K=(a,u)=>I.patch(`${L}${a}/`,u),Ee=a=>pe.post(ue,a),Ie=a=>I.post(he,a),Me=()=>I.get(`${de}`),Je=a=>I.delete(`${me}${a}`),Se=({register:a,candidateData:u,offerLetterData:s,setOfferLetterData:h,errors:t,control:g})=>{var A,x,O,q,f,$,T;const{company_name:w}=B(l=>{var i;return(i=l==null?void 0:l.recruiter)==null?void 0:i.companyProfile}),[c,M]=k.useState(!1);return e.jsx("div",{children:e.jsx("div",{className:"job-seeker-dashboard-sec py-70",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"shadow-box coverletter-sec",children:[e.jsxs("div",{className:"headingContainer",children:[e.jsx("h4",{children:"Offer Letter"}),e.jsx("div",{className:"text-end mb-5",children:e.jsx("span",{onClick:()=>M(!c),className:"d-inline-block edit-link cursor-pointer",children:e.jsx("img",{src:`../assets/images/${c?"checked":"edit-icon"}.svg`})})})]}),e.jsxs("div",{className:"coverletter-cotnent border-top py-4 mt-4",children:[e.jsxs("p",{children:["Dear ",(A=u==null?void 0:u.candidate_details)==null?void 0:A.candidate_name," ,"]}),e.jsxs("p",{children:["We were all very excited to meet and get to know you over the past few days. We have been impressed with your background and would like to formally offer you the position of ",u==null?void 0:u.job_title,"."]}),e.jsxs("p",{children:["This is a ["," ",c?e.jsxs(e.Fragment,{children:[e.jsx(_,{name:"job_type",rules:{required:"This field is required"},control:g,render:({field:l})=>e.jsx("input",{checked:(s==null?void 0:s.job_type)==="full",name:"job_type",type:"radio",value:"full",onChange:i=>{h({...s,job_type:i.target.value}),l.onChange(i)}})}),"Full",e.jsx(_,{name:"job_type",rules:{required:"This field is required"},control:g,render:({field:l})=>e.jsx("input",{checked:(s==null?void 0:s.job_type)==="part",name:"job_type",type:"radio",value:"part",onChange:i=>{h({...s,job_type:i.target.value}),l.onChange(i)}})}),"Part"]}):e.jsx(_,{name:"job_type",rules:{required:"This field is required"},control:g,render:({field:l})=>e.jsx("input",{readOnly:!c,value:s.job_type,placeholder:"full/part",className:`${c?"cover-field active-field":"cover-field"}`})}),"]"," ",(t==null?void 0:t.job_type)&&e.jsxs("span",{children:[" ",e.jsx(C,{msg:(x=t==null?void 0:t.job_type)==null?void 0:x.message})]}),"time position [",e.jsx(_,{name:"working_days",control:g,rules:{required:"This field is required"},render:({field:l})=>e.jsx("input",{...l,onChange:i=>{h({...s,working_days:i.target.value}),l.onChange(i)},placeholder:"mention working days and hours",readOnly:!c,value:s.working_days,className:`${c?"cover-field active-field":"cover-field"}`})}),(t==null?void 0:t.working_days)&&e.jsx(C,{msg:(O=t==null?void 0:t.working_days)==null?void 0:O.message}),"] You will be reporting to the head of the ["," ",e.jsx(_,{name:"department_name",control:g,rules:{required:"This field is required"},render:({field:l})=>e.jsx("input",{...l,onChange:i=>{h({...s,department_name:i.target.value}),l.onChange(i)},readOnly:!c,placeholder:"Department_name",value:s.department_name,className:`${c?"cover-field active-field":"cover-field"}`})}),"]"," ",(t==null?void 0:t.department_name)&&e.jsx(C,{msg:(q=t==null?void 0:t.department_name)==null?void 0:q.message})," ","department. [If applicable: Please note that",w||"company_name"," is an at-will employer. That means that either you or",w||"company_name"," are free to end the employment relationship at any time, with or without notice or cause.]"]}),e.jsxs("p",{children:["We will be offering you an annual gross salary of $[",e.jsx(_,{name:"salary",control:g,rules:{required:"This field is required"},render:({field:l})=>e.jsx("input",{...l,onChange:i=>{h({...s,salary:i.target.value}),l.onChange(i)},placeholder:"X",readOnly:!c,value:s.salary,className:`${c?"cover-field active-field":"cover-field"}`})}),"]",(t==null?void 0:t.salary)&&e.jsx(C,{msg:(f=t==null?void 0:t.salary)==null?void 0:f.message})," ","and [",e.jsx(_,{name:"bonus_programs",control:g,render:({field:l})=>e.jsx("input",{...l,onChange:i=>{h({...s,bonus_programs:i.target.value}),l.onChange(i)},placeholder:"mention bonus programs, if applicable",readOnly:!c,value:s.bonus_programs,className:`${c?"cover-field active-field":"cover-field"}`})}),"] You will also have [",e.jsx(_,{name:"company_benefits",control:g,render:({field:l})=>e.jsx("input",{...l,onChange:i=>{h({...s,company_benefits:i.target.value}),l.onChange(i)},readOnly:!c,value:s.company_benefits,placeholder:"mention benefits as per company policy, like health and insurance plan, corporate mobile or travel expenses",className:`${c?"cover-field active-field":"cover-field"}`})}),"] and [",e.jsx("input",{onChange:l=>{h({...s,paid_vacation:l.target.value})},placeholder:"X",readOnly:!c,value:s.paid_vacation,className:`${c?"cover-field active-field":"cover-field"}`}),"] days of paid vacation per year."]}),e.jsxs("p",{children:["Your expected starting date is [",e.jsx(_,{name:"expected_starting_date",control:g,rules:{required:"This field is required"},render:({field:l})=>e.jsx("input",{...l,type:"date",min:new Date().toISOString().split("T")[0],onChange:i=>{h({...s,expected_starting_date:i.target.value}),l.onChange(i)},readOnly:!c,value:s.expected_starting_date,placeholder:"expected starting date",className:`${c?"cover-field active-field":"cover-field"}`})}),".]",(t==null?void 0:t.expected_starting_date)&&e.jsx(C,{msg:($=t==null?void 0:t.expected_starting_date)==null?void 0:$.message})," ","You will be asked to sign a contract of ["," ",e.jsx(_,{name:"contract_duration",control:g,render:({field:l})=>e.jsx("input",{...l,onChange:i=>{h({...s,contract_duration:i.target.value}),l.onChange(i)},placeholder:"contract_duration, if applicable",readOnly:!c,value:s.contract_duration,className:`${c?"cover-field active-field":"cover-field"}`})}),"] and [",e.jsx(_,{name:"agreements",control:g,render:({field:l})=>e.jsx("input",{...l,onChange:i=>{h({...s,agreements:i.target.value}),l.onChange(i)},readOnly:!c,value:s.agreements,placeholder:"mention agreements, like confidentiality, nondisclosure and noncompete",className:`${c?"cover-field active-field":"cover-field"}`})}),"] at the beginning of your employment."]}),e.jsxs("p",{children:["We would like to have your response by [",e.jsx(_,{name:"response_date",control:g,rules:{required:"This field is required"},render:({field:l})=>e.jsx("input",{type:"date",...l,min:new Date().toISOString().split("T")[0],max:(s==null?void 0:s.expected_starting_date)&&new Date(s==null?void 0:s.expected_starting_date).toISOString().split("T")[0],onChange:i=>{h({...s,response_date:i.target.value}),l.onChange(i)},placeholder:"date",readOnly:!c,value:s.response_date,className:`${c?"cover-field active-field":"cover-field"}`})}),"]"," ",(t==null?void 0:t.response_date)&&e.jsx(C,{msg:(T=t==null?void 0:t.response_date)==null?void 0:T.message})," ","In the meantime, please feel free to contact me or ["," ",e.jsx(_,{name:"manager_name",control:g,render:({field:l})=>e.jsx("input",{...l,onChange:i=>{h({...s,manager_name:i.target.value}),l.onChange(i)},readOnly:!c,value:s.manager_name,placeholder:"Manager_name",className:`${c?"cover-field active-field":"cover-field"}`})}),"] via email or phone on [",e.jsx(_,{name:"contact_details",rules:{required:"This field is required"},control:g,render:({field:l})=>e.jsx("input",{...l,onChange:i=>{h({...s,contact_details:i.target.value}),l.onChange(i)},readOnly:!c,value:s.contact_details,placeholder:"provide contact details",className:`${c?"cover-field active-field":"cover-field"}`})}),(t==null?void 0:t.contact_details)&&e.jsx(C,{msg:t.contact_details.message}),"] , should you have any questions."]}),e.jsx("p",{children:"We are all looking forward to having you on our team."}),e.jsx("p",{children:e.jsx("strong",{children:"Best regards,"})}),e.jsx("p",{children:w||"company_name"})]})]})})})})})})},We=({modalDetails:a,toggleModal:u,candidataData:s,afterSuccessfullyChangedStatus:h,rescheduleInterviewModal:t=!1})=>{var F;const[g,w]=k.useState("Unresponsive"),[c,M]=k.useState(null),[A,x]=k.useState(!1),O=B(n=>{var d;return(d=n==null?void 0:n.recruiter)==null?void 0:d.recruiterProfile}),q=B(n=>{var d;return(d=n==null?void 0:n.masterAPIData)==null?void 0:d.timeZone}),{register:f,handleSubmit:$,watch:T,trigger:l,setValue:i,setError:R,control:H,formState:{errors:y}}=_e(),{pathname:J}=ge(),[D,ee]=k.useState({expected_starting_date:"",working_days:"",salary:"",response_date:"",contract_duration:"",bonus_programs:"",department_name:"",paid_vacation:"",contact_details:"",manager_name:"",agreements:"",company_benefits:"",job_type:""}),se=n=>{var p;x(!0);const d={recruiter:O==null?void 0:O.profile_id,job:s==null?void 0:s.job_id,message:n.comment,candidate:(p=s==null?void 0:s.candidate_details)==null?void 0:p.id};if(a.modalName===S.HIRE_MODAL){const o=new FormData;o.append("job_application",s==null?void 0:s.application_id),o.append("message",n.comment),c&&o.append("offer_letter",c),o.append("offer_letter_details",JSON.stringify(n)),Ee(o).then(r=>{var m;((m=r==null?void 0:r.data)==null?void 0:m.status)==="success"&&(h(S.INVITE_SUCCESS_MODAL),x(!1))}).catch(r=>{var m,v;typeof((v=(m=r==null?void 0:r.response)==null?void 0:m.data)==null?void 0:v.message)=="string"?E.error(r.response.data.message):E.error("Something went wrong"),x(!1),u()});return}Ce(d).then(o=>{var r;((r=o==null?void 0:o.data)==null?void 0:r.status)==="success"&&(x(!1),h(S.INVITE_SUCCESS_MODAL))}).catch(o=>{var r,m;typeof((m=(r=o==null?void 0:o.response)==null?void 0:r.data)==null?void 0:m.message)=="string"?E.error(o.response.data.message):E.error("Something went wrong"),x(!1),u()})},ne=n=>{var o,r;x(!0);const d={time_zone:(o=n==null?void 0:n.timeZone)==null?void 0:o.value,day_and_date:n==null?void 0:n.start_date,duration_time:n==null?void 0:n.duration,start_time:N(n==null?void 0:n.start_time,"HH:mm").format("HH:mm:ss"),end_time:N(n==null?void 0:n.end_time,"HH:mm").format("HH:mm:ss"),interview_status:t?"Rescheduled":"Upcoming",candidate_profile:t?s==null?void 0:s.candidate_id:(r=s==null?void 0:s.candidate_details)==null?void 0:r.id,job:s==null?void 0:s.job_id,recruiter_message:t?n.recruiter_message:null,job_application:s==null?void 0:s.application_id};(t?K(s==null?void 0:s.id,d):Te(d)).then(m=>{var v,b,j;((v=m==null?void 0:m.data)==null?void 0:v.status)==="success"?(d.candidate_name=(b=s==null?void 0:s.candidate_details)==null?void 0:b.candidate_name,h(P.invitation,d)):E.error((j=m==null?void 0:m.data)==null?void 0:j.message),x(!1)}).catch(m=>{var v,b,j,U,Y,G,z,X;typeof((b=(v=m==null?void 0:m.response)==null?void 0:v.data)==null?void 0:b.message)=="string"?E.error(m.response.data.message):(Y=(U=(j=m==null?void 0:m.response)==null?void 0:j.data)==null?void 0:U.message)!=null&&Y.candidate_id?E.error((X=(z=(G=m==null?void 0:m.response)==null?void 0:G.data)==null?void 0:z.message)==null?void 0:X.candidate_id[0]):E.error("Something went wrong"),x(!1),u()})},ie=()=>{x(!0);const n={interview_status:"Cancelled",recruiter_message:g};(J==="/job-recruiter/application"?Ie({job_application:a.id}):K(a==null?void 0:a.id,n)).then(p=>{var o;((o=p==null?void 0:p.data)==null?void 0:o.status)==="success"&&(x(!1),E.success(J==="/job-recruiter/application"?"Candidate decline successfully":"Candidate's interview is cancelled"),h(P.cancelled))}).catch(p=>{var o,r;typeof((r=(o=p==null?void 0:p.response)==null?void 0:o.data)==null?void 0:r.message)=="string"?E.error(p.response.data.message):E.error("Something went wrong"),x(!1),u()})},W=(n,d)=>{if(n==="start_time"){const p=T("end_time");if(!p)return;const o=N(p,"HH:mm"),r=N(d,"HH:mm");if(o.isBefore(r)){i("duration",null);return}const m=N.duration(o.diff(r)),v=Math.floor(m.asHours()),b=m.minutes();let j="";v>0&&(j=`${v} hours`),b>0&&(j=j.length>0?`${j} ${b} minutes`:`${b} minutes`),i("duration",j)}else{const p=T("start_time"),o=N(d,"HH:mm"),r=N(p,"HH:mm");if(o.isBefore(r)){i("duration",null);return}const m=N.duration(o.diff(r)),v=Math.floor(m.asHours()),b=m.minutes();let j="";v>0&&(j=`${v} hours`),b>0&&(j=j.length>0?`${j} ${b} minutes`:`${b} minutes`),i("duration",j)}},Z=(n,d)=>{const p=T("start_time"),o=T("end_time");n==="start_time"&&(N(o,"HH:mm").isAfter(N(d,"HH:mm"))?R("end_time",{type:"manual",message:""}):R("end_time",{type:"manual",message:"End time must be greater than start time"})),n==="end_time"&&(N(d,"HH:mm").isAfter(N(p,"HH:mm"))?R("end_time",{type:"manual",message:""}):R("end_time",{type:"manual",message:"End time must be greater than start time"}))};return console.log(y,"errros"),e.jsx(e.Fragment,{children:a.modalName===S.INVITE_SUCCESS_MODAL||a.modalName===P.invitation?e.jsxs(be,{showModal:a.show,toggleModal:u,children:[a.modalTitle===Q.APPLIED&&e.jsxs("span",{children:["The offer was sent to"," ",e.jsx("strong",{children:(F=s==null?void 0:s.candidate_details)==null?void 0:F.candidate_name})]}),a.modalTitle===Q.SHORTLISTED&&e.jsx("span",{children:"Talent was Shortlisted"}),a.modalName===P.invitation&&e.jsxs("span",{children:["The Invitation for an interview on ",a.modalTitle," "]})]}):e.jsx(je,{showModal:a.show,title:a.modalTitle,toggleModal:u,children:e.jsxs(e.Fragment,{children:[(a.modalName===S.INVITE_MODAL||a.modalName===S.HIRE_MODAL)&&e.jsx("div",{className:"modal-body",children:e.jsx("form",{onSubmit:$(se),children:e.jsxs("div",{className:"row",children:[e.jsx("div",{className:"col-12",children:e.jsxs("div",{className:"fieldset",children:[e.jsx(Se,{register:f,errors:y,control:H,candidateData:s,offerLetterData:D,setOfferLetterData:ee}),a.modalName!==S.INVITE_MODAL&&e.jsx(e.Fragment,{children:c?e.jsx("p",{children:c.name}):e.jsx("label",{className:""})}),e.jsx("span",{className:"characters-sets",children:"3000 characters"})]})}),e.jsx("div",{className:"col-12 mt-4",children:e.jsxs("div",{className:"popupBtn",children:[e.jsx("button",{type:"button",className:"btn-design border-btn",onClick:u,children:"Cancel"}),e.jsx(V,{loader:A,contentText:a.modalName===S.INVITE_MODAL?"Send an Invitation":"Send",disabled:A})]})})]})})}),a.modalName===S.DECLINED_MODAL&&e.jsx("div",{className:"modal-body",children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-12",children:[e.jsxs("p",{children:["Please select the reason and write a comment. The message with decision will send to talent ",e.jsx("strong",{children:"James"})]}),xe.map((n,d)=>e.jsxs("div",{className:"fieldset radio-set",children:[e.jsx("input",{type:"radio",name:"job-type",onChange:()=>w(n),checked:g===n}),e.jsx("span",{children:n})]},d))]}),e.jsx("div",{className:"col-12 mt-4",children:e.jsxs("div",{className:"popupBtn",children:[e.jsx("button",{type:"button",className:"btn-design border-btn","data-bs-dismiss":"modal",onClick:u,children:"Cancel"}),e.jsx(V,{type:"button",loader:A,contentText:"Declined",disabled:A,onClickCallBack:ie})]})})]})}),a.modalName===S.INTERVIEW_SCHEDULE_MODAL&&e.jsx("div",{className:"modal-body",children:e.jsx("form",{onSubmit:$(ne),children:e.jsxs("div",{className:"row",children:[e.jsxs("div",{className:"col-12",children:[e.jsx("label",{children:"Time Zone"}),e.jsxs("div",{className:"fieldset",children:[e.jsx(_,{name:"timeZone",control:H,defaultValue:"",rules:{required:"Time zone is required"},render:({field:n})=>e.jsx(Ne,{list:ve(q),selectedValue:T("timeZone")?T("timeZone"):"",setSelectedValue:d=>i("timeZone",d),placeholder:"Search...",field:"timeZone",isMulti:!1,validation:n})}),y.timeZone&&e.jsx(C,{msg:y.timeZone.message})]})]}),e.jsxs("div",{className:"col-6",children:[e.jsx("label",{children:"Select a Day"}),e.jsxs("div",{className:"fieldset",children:[e.jsx(_,{name:"start_date",control:H,defaultValue:"",rules:{required:"Start date is required"},render:({field:n})=>e.jsx("input",{...n,onChange:d=>{n.onChange(d)},min:new Date().toISOString().split("T")[0],type:"date",className:"form-control"})}),y.start_date&&e.jsx(C,{msg:y.start_date.message})]})]}),e.jsxs("div",{className:"col-md-6 col-12",children:[e.jsx("label",{children:"Start With"}),e.jsxs("div",{className:"fieldset",children:[e.jsx(_,{name:"start_time",control:H,defaultValue:"",rules:{required:"Start time is required"},render:({field:n})=>e.jsx("input",{...n,onChange:d=>{Z("start_time",d.target.value),n.onChange(d)},onBlur:d=>W("start_time",d.target.value),type:"time",className:"form-control"})}),y.start_time&&e.jsx(C,{msg:y.start_time.message})]})]}),e.jsxs("div",{className:"col-md-6 col-12",children:[e.jsx("label",{children:"End With"}),e.jsxs("div",{className:"fieldset",children:[e.jsx(_,{name:"end_time",control:H,defaultValue:"",rules:{required:"End time is required",validate:n=>{const d=T("start_time"),p=ye().test("is-less","End time must be greater than start time",o=>o>d).isValidSync(n);return p||R("end_time",{type:"manual",message:"End time must be greater than start time"}),p}},render:({field:n})=>e.jsx("input",{...n,onChange:d=>{Z("end_time",d.target.value),n.onChange(d)},disabled:!T("start_time"),onBlur:d=>W("end_time",d.target.value),type:"time",className:"form-control"})}),y.end_time&&e.jsx(C,{msg:y.end_time.message})]})]}),e.jsxs("div",{className:"col-6",children:[e.jsx("label",{children:"Duration"}),e.jsx("div",{className:"fieldset",children:e.jsx("input",{className:"form-control",type:"text",readOnly:!0,disabled:!0,...f("duration")})})]}),t&&e.jsxs("div",{className:"col-md-12 col-12",children:[e.jsx("label",{children:"Reschedule Reason"}),e.jsxs("div",{className:"fieldset",children:[e.jsx(_,{name:"recruiter_message",control:H,defaultValue:"",rules:{required:"Reason is required"},render:({field:n})=>e.jsx("input",{...n,onChange:d=>{n.onChange(d)},type:"text",className:"form-control"})}),y.recruiter_message&&e.jsx(C,{msg:y.recruiter_message.message})]})]}),e.jsx("div",{className:"col-12 mt-4",children:e.jsxs("div",{className:"popupBtn",children:[e.jsx("button",{type:"button",className:"btn-design border-btn","data-bs-dismiss":"modal",onClick:u,children:"Cancel"}),e.jsx(V,{loader:A,contentText:"Send an Invitation",disabled:A})]})})]})})})]})})})};export{We as A,$e as J,P as M,Re as O,Q as T,Me as a,Pe as b,qe as c,Je as d,ke as g,Ve as p,K as r,Be as s};
